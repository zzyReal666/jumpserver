(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224e77"],{e1b7:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loading?e._e():r("TabPage",{attrs:{"active-menu":e.tab.activeMenu,"help-tip":e.platformPageHelpMsg,submenu:e.tab.submenu},on:{"update:activeMenu":function(t){return e.$set(e.tab,"activeMenu",t)},"update:active-menu":function(t){return e.$set(e.tab,"activeMenu",t)},"tab-click":e.changeMoreCreates}},[r("keep-alive",[r("GenericListTable",{ref:"genericListTable",attrs:{"create-drawer":e.createDrawer,"detail-drawer":e.detailDrawer,"header-actions":e.headerActions,"table-config":e.tableConfig}})],1)],1)},n=[],o=(r("2caf"),r("ac4d"),r("8a81"),r("5df3"),r("1c4c"),r("6b54"),r("87b3"),r("6762"),r("2fdb"),r("d25f"),r("6d67"),r("96cf"),r("3b8d")),s=(r("7f7f"),r("cd4a")),i=r("53f7"),u=r("ae05"),c=r("b318");function l(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=f(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw o}}}}function f(e,t){if(e){if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var h={components:{TabPage:s["l"],GenericListTable:u["a"]},data:function(){var e=this,t=this;return{createDrawer:function(){return Promise.all([r.e("chunk-commons"),r.e("chunk-55b557da"),r.e("chunk-4367c372"),r.e("chunk-0e71efe5"),r.e("chunk-58882511")]).then(r.bind(null,"fe31"))},detailDrawer:function(){return Promise.all([r.e("chunk-commons"),r.e("chunk-55b557da"),r.e("chunk-4367c372"),r.e("chunk-0e71efe5"),r.e("chunk-7246b0e1")]).then(r.bind(null,"c145"))},loading:!0,platformPageHelpMsg:this.$t("PlatformPageHelpMsg"),tab:{submenu:[],activeMenu:"host"},tableConfig:{url:"/api/v1/assets/platforms/",columnsExclude:["automation"],columnsShow:{min:["name","actions"],default:["name","assets_amount","category","type","actions"]},columnsMeta:{assets_amount:{width:"160px",formatter:c["a"],formatterArgs:{async:!0,permissions:"assets.view_asset",getRoute:function(e){var t=e.row;return{name:"PlatformDetail",params:{id:t.id},query:{tab:"Assets"}}}}},type:{formatter:i["e"]},category:{formatter:i["e"]},gateway_enabled:{formatterArgs:{showFalse:!1}},su_enabled:{width:"200px",formatterArgs:{showFalse:!1}},su_method:{width:"200px",formatter:function(e){var t;return e.su_enabled&&(null===e||void 0===e||null===(t=e.su_method)||void 0===t?void 0:t.label)||"-"}},protocols:{showFullContent:!0,formatter:i["o"]},base:{width:"140px"},internal:{width:"100px",formatterArgs:{showFalse:!1}},actions:{formatterArgs:{canClone:function(){return t.$hasPerm("assets.add_platform")},onClone:function(e){var r=e.row;t.$refs.genericListTable.onClone({row:r,query:{type:r.type.value,category:r.category.value}})},canUpdate:function(e){var r=e.row;return!r.internal&&t.$hasPerm("assets.change_platform")},canDelete:function(e){var r=e.row;return!r.internal&&t.$hasPerm("assets.delete_platform")},onUpdate:function(e){var r=e.row,a=e.col;t.$refs.genericListTable.onUpdate({row:r,col:a,query:{type:r.type.value,category:r.category.value}})}}}}},headerActions:{hasLabelSearch:!0,hasBulkDelete:!1,hasMoreActions:!1,hasRightActions:!0,createRoute:"PlatformCreate",canCreate:function(){return e.$hasPerm("assets.add_platform")},importOptions:{url:t.url},exportOptions:{url:t.url},moreCreates:{callback:function(t){e.$refs.genericListTable.onCreate({query:{type:t.name,category:t.category}})},dropdown:[]}},lastTab:""}},computed:{url:function(){return"/api/v1/assets/platforms/?category=".concat(this.tab.activeMenu)}},activated:function(){},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.setCategoriesTab();case 3:return e.prev=3,this.loading=!1,e.finish(3);case 6:a=null===(t=this.$route.query)||void 0===t?void 0:t.name,n=null===(r=this.$route.query)||void 0===r?void 0:r.id,n&&this.$nextTick((function(){o.$refs.genericListTable.onDetail({row:{id:n,name:a}})}));case 9:case"end":return e.stop()}}),e,this,[[0,,3,6]])})));function t(){return e.apply(this,arguments)}return t}(),updated:function(){this.changeMoreCreates()},methods:{changeMoreCreates:function(){var e=this;this.tableConfig.url=this.url,this.headerActions.importOptions.url=this.url,this.headerActions.exportOptions.url=this.url;var t=this.$store.state.assets.assetCategoriesDropdown.filter((function(t){return t.category===e.tab.activeMenu})).map((function(t){return t.group&&!t.group.includes(e.$t("Type"))&&(t.group+=e.$t("WordSep")+e.$t("Type")),t}));this.headerActions.moreCreates.dropdown=t},setCategoriesTab:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={host:"fa-inbox",device:"fa-microchip",database:"fa-database",cloud:"fa-cloud",web:"fa-globe",gpt:"fa-comment",ds:"fa-id-card-o",custom:"fa-cube"},e.next=3,this.$store.dispatch("assets/getAssetCategories");case 3:r=e.sent,a=l(r.assetCategories);try{for(a.s();!(n=a.n()).done;)o=n.value,this.tab.submenu.push({name:o.value,title:o.label,icon:t[o.value]})}catch(s){a.e(s)}finally{a.f()}case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},p=h,m=r("2877"),b=Object(m["a"])(p,a,n,!1,null,null,null);t["default"]=b.exports}}]);