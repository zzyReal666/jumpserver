(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71237fa8"],{"0218":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return u})),a.d(t,"g",(function(){return d}));var n=a("bd86"),i=a("0692"),l="pending",r="approved",s="rejected",c="closed",o=Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},l,{type:"success",title:i["a"].t("Pending")}),r,{type:"primary",title:i["a"].t("Approved")}),s,{type:"danger",title:i["a"].t("Rejected")}),c,{type:"info",title:i["a"].t("Closed")}),u=Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},l,{type:"success",title:i["a"].t("Pending")}),r,{type:"primary",title:i["a"].t("Approved")}),s,{type:"danger",title:i["a"].t("Rejected")}),c,{type:"warning",title:i["a"].t("StateClosed")}),d=[{value:"all",label:i["a"].t("All"),children:[{value:"connect",label:i["a"].t("Connect")},{value:"delete",label:i["a"].t("Delete")},{value:"share",label:i["a"].t("Share")},{value:"updownload",label:i["a"].t("UpDownload"),children:[{value:"upload",label:i["a"].t("Upload")},{value:"download",label:i["a"].t("Download")}]},{value:"copy_paste",label:i["a"].t("Clipboard"),children:[{value:"copy",label:i["a"].t("Copy")},{value:"paste",label:i["a"].t("Paste")}]}]}]},d75b:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("GenericListPage",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ListPage",attrs:{"create-drawer":e.createDrawer,"detail-drawer":e.detailDrawer,"header-actions":e.iTicketAction,"table-config":e.ticketTableConfig}})},i=[],l=(a("7f7f"),a("bd86")),r=a("cd4a"),s=a("53f7"),c=a("3f95"),o=a("0218"),u={name:"TicketListTable",components:{GenericListPage:r["e"]},props:{url:{type:String,default:"/api/v1/tickets/tickets/"},extraTicketAction:{type:Object,default:function(){return{}}},extraQuery:{type:Object,default:function(){return{}}}},data:function(){var e=this,t=this;return{loading:!0,createDrawer:function(){return Promise.all([a.e("chunk-commons"),a.e("chunk-55b557da"),a.e("chunk-4367c372"),a.e("chunk-4f216562")]).then(a.bind(null,"3cae"))},detailDrawer:null,ticketTableConfig:{url:this.url,extraQuery:this.extraQuery,columnsExclude:["process_map","rel_snapshot"],columnsShow:{min:["title","serial_num","type","state","date_created"],default:["title","serial_num","type","state","date_created"]},columnsMeta:{serial_num:{label:this.$t("Number"),sortable:"custom"},title:{label:this.$t("Title"),formatter:s["i"],sortable:"custom",formatterArgs:{drawer:!0,getRoute:function(t){var a=t.row,n=a.type.value,i={apply_asset:"AssetsTicketDetail",login_asset_confirm:"LoginAssetTicketDetail",login_confirm:"LoginTicketDetail",command_confirm:"CommandConfirmDetail"};return e.$store.dispatch("common/setDrawerActionMeta",{action:"detail",row:{},col:{},id:a.id}),{name:i[n]||"TicketDetail",params:{id:a.id}}}}},applicant:{label:this.$t("Applicant"),sortable:"custom",formatter:function(e){return e["rel_snapshot"].applicant}},type:{label:this.$t("Type"),formatter:function(e){return e.type.label}},status:{align:"center",sortable:"custom",formatter:s["s"],formatterArgs:{getTagLabel:function(e){var t=e.row;return t.status.label},getTagType:function(e){var t=e.row;return"open"===t.status.value?"primary":"danger"}}},state:{label:this.$t("Action"),align:"center",sortable:"custom",formatter:s["s"],formatterArgs:{getTagType:function(e){var t=e.row,a=Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])({},o["c"],"success"),o["a"],"primary"),o["d"],"danger"),o["b"],"info");return a[t.state.value]||"warning"},getTagLabel:function(e){var a=e.row;return a.state.label||t.$t("Pending")}}},date_created:{label:this.$t("Date"),sortable:"custom",formatter:function(e){return Object(c["i"])(e.date_created)}},actions:{has:"AuditTicketList"!==this.$route.name}}},defaultTicketActions:{hasExport:!1,hasMoreActions:!1,hasLeftActions:!0,canCreate:this.$hasPerm("tickets.view_ticket"),hasBulkDelete:!1,searchConfig:{exclude:["id","title","type","applicant"],options:[{value:"id",label:"ID"},{value:"title",label:this.$t("Title")},{value:"type",label:this.$t("Type"),type:"choice",children:[{value:"apply_asset",label:this.$t("ApplyAsset")},{value:"login_confirm",label:this.$t("LoginConfirm")},{value:"command_confirm",label:this.$t("CommandConfirm")},{value:"login_asset_confirm",label:this.$t("LoginAssetConfirm")}]},{value:"applicant_username_name",label:this.$t("Applicant")},{value:"relevant_asset",label:this.$t("RelevantAsset")},{value:"relevant_system_user",label:this.$t("RelevantCommand")},{value:"relevant_command",label:this.$t("ApplyRunCommand")}]},moreCreates:{},createTitle:this.$t("RequestTickets")}}},computed:{iTicketAction:function(){return Object.assign({},this.defaultTicketActions,this.extraTicketAction)}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),500)},methods:{reloadTable:function(){this.$refs.ListPage.$refs.ListTable.$refs.ListTable.reloadTable()}}},d=u,p=a("2877"),m=Object(p["a"])(d,n,i,!1,null,null,null);t["a"]=m.exports},f0be:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BaseTicketList",e._b({attrs:{url:e.url}},"BaseTicketList",e.$data,!1))},i=[],l=a("d75b"),r={name:"AuditTicketList",components:{BaseTicketList:l["a"]},data:function(){return{extraTicketAction:{hasImport:!1}}},computed:{url:function(){return"/api/v1/tickets/tickets/"}}},s=r,c=a("2877"),o=Object(c["a"])(s,n,i,!1,null,null,null);t["default"]=o.exports}}]);