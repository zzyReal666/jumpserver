(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224b21"],{e0dd:function(t,e,a){"use strict";a.r(e);var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("GenericListTable",{ref:"listTable",attrs:{"create-drawer":t.createDrawer,"detail-drawer":t.detailDrawer,"header-actions":t.headerActions,"table-config":t.tableConfig}})},n=[],s=(a("6d67"),a("d92a"),a("53f7")),o=a("ac6b"),u=a("cd4a"),r={name:"AccountPushList",components:{GenericListTable:u["f"]},data:function(){var t=this,e=this.$createElement,c=this;return{createDrawer:function(){return Promise.all([a.e("chunk-commons"),a.e("chunk-55b557da"),a.e("chunk-4367c372"),a.e("chunk-0e71efe5"),a.e("chunk-f4547986")]).then(a.bind(null,"ab7c"))},detailDrawer:function(){return Promise.all([a.e("chunk-commons"),a.e("chunk-55b557da"),a.e("chunk-4367c372"),a.e("chunk-0e71efe5"),a.e("chunk-0f27a2b4")]).then(a.bind(null,"95b3"))},tableConfig:{url:"/api/v1/accounts/push-account-automations/",columns:["name","accounts","secret_strategy","is_periodic","periodic_display","executed_amount","is_active","actions"],columnsShow:{min:["name","actions"],default:["name","accounts","periodic_display","executed_amount","is_active","actions"]},columnsMeta:{name:{formatter:s["i"],formatterArgs:{route:"AccountPushDetail"}},accounts:{formatter:function(t){return e("span",[" ",t.accounts.join(", ")," "])}},secret_strategy:{formatter:function(t){return e("span",[" ",t.secret_strategy.label," "])}},assets_amount:{label:c.$t("AssetsOfNumber")},nodes_amount:{label:c.$t("NodeOfNumber")},password_strategy_display:{label:c.$t("PasswordStrategy"),showOverflowTooltip:!0},executed_amount:{formatter:function(a){var n=c.$hasPerm("accounts.view_pushaccountexecution");return e("el-link",{on:{click:function(){return t.handleExecAmount(a)}},attrs:{disabled:!n}},[a.executed_amount])}},actions:{formatter:s["c"],formatterArgs:{updateRoute:"AccountPushUpdate",cloneRoute:"AccountPushCreate",extraActions:[{title:c.$t("Execute"),name:"execute",order:1,type:"primary",can:function(t){var e=t.row;return e.is_active&&c.$hasPerm("accounts.add_pushaccountexecution")},callback:function(t){var e=t.row;this.$axios.post("/api/v1/accounts/push-account-executions/",{automation:e.id,type:e.type.value}).then((function(t){Object(o["k"])(t["task"])}))}.bind(this)}]}}}},headerActions:{hasRefresh:!0,hasExport:!1,hasImport:!1,createRoute:"AccountPushCreate",extraMoreActions:[{name:"BatchDisable",title:this.$t("DisableSelected"),icon:"fa fa-ban",can:function(e){var a=e.selectedRows;return a.length>0&&t.$hasPerm("accounts.change_pushaccountautomation")},callback:function(e){var a=e.selectedRows,c=e.reloadTable;return t.bulkDisableCallback(a,c)}},{name:"BatchActivate",title:this.$t("ActivateSelected"),icon:"fa fa-check-circle-o",can:function(e){var a=e.selectedRows;return a.length>0&&t.$hasPerm("accounts.change_pushaccountautomation")},callback:function(e){var a=e.selectedRows,c=e.reloadTable;return t.bulkActivateCallback(a,c)}}]}}},methods:{handleExecAmount:function(t){this.$router.push({name:"AccountPushList",query:{tab:"AccountPushExecutionList",automation_id:t.id}})},bulkDisableCallback:function(t,e){var a=this,c="/api/v1/accounts/push-account-automations/",n=t.map((function(t){return{id:t.id,is_active:!1}}));0!==n.length&&this.$axios.patch(c,n).then((function(){e(),a.$message.success(a.$t("DisableSuccessMsg"))})).catch((function(t){a.$message.error(a.$t("UpdateErrorMsg")+" "+t)}))},bulkActivateCallback:function(t,e){var a=this,c="/api/v1/accounts/push-account-automations/",n=t.map((function(t){return{id:t.id,is_active:!0}}));0!==n.length&&this.$axios.patch(c,n).then((function(){e(),a.$message.success(a.$t("DisableSuccessMsg"))})).catch((function(t){a.$message.error(a.$t("UpdateErrorMsg")+" "+t)}))}}},i=r,l=a("2877"),h=Object(l["a"])(i,c,n,!1,null,null,null);e["default"]=h.exports}}]);