(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f9a845c"],{"0f0b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("GenericDetailPage",t._g(t._b({attrs:{"active-menu":t.config.activeMenu,object:t.applet},on:{"update:activeMenu":function(e){return t.$set(t.config,"activeMenu",e)},"update:active-menu":function(e){return t.$set(t.config,"activeMenu",e)},"update:object":function(e){t.applet=e}}},"GenericDetailPage",t.config,!1),t.$listeners),[a("keep-alive",[a(t.config.activeMenu,{tag:"component",attrs:{object:t.applet}})],1)],1)},i=[],s=a("cd4a"),r=a("3a29"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:20}},[a("ListTable",{attrs:{"header-actions":t.headerActions,"table-config":t.config,"detail-drawer":t.detailDrawer}})],1)},o=[],l=(a("7f7f"),a("6d67"),a("2af9")),u=a("53f7"),p=a("ac6b"),d={name:"Publications",components:{ListTable:l["j"]},props:{object:{type:Object,default:function(){}}},data:function(){var t=this.$createElement,e=this;return{detailDrawer:function(){return Promise.resolve().then(a.bind(null,"3a29"))},headerActions:{hasCreate:!1,hasImport:!1,hasExport:!1,hasBulkDelete:!1,searchConfig:{exclude:["applet"]},extraMoreActions:[{name:"SyncSelected",title:this.$t("BatchDeployment"),type:"primary",can:function(t){var e=t.selectedRows;return e.length>0},callback:function(t){var a=t.selectedRows;e.$axios.post("/api/v1/terminal/applet-host-deployments/applets/",{hosts:a.map((function(t){return t.host.id})),applet_id:e.object.id}).then((function(t){Object(p["k"])(t["task"])}))}}]},config:{url:"/api/v1/terminal/applet-publications/?applet=".concat(this.object.id),columns:["host.display_name","applet.version","date_updated","status","actions"],columnsMeta:{"host.display_name":{label:this.$t("DisplayName"),formatter:u["i"],formatterArgs:{drawer:!0,can:e.$hasPerm("assets.view_asset"),getTitle:function(t){var e=t.row;return e.host.name},getDrawerTitle:function(t){var e=t.row;return e.host.name},getRoute:function(t){var e=t.row;return{name:"AppletHostDetail",params:{id:e.host.id}}}},id:function(t){var e=t.row;return e.host.id}},"applet.version":{label:this.$t("Version")},status:{label:this.$t("PublishStatus"),formatter:function(e){var a={pending:"success",success:"primary",failed:"danger",unknown:"warning"},n=a[e.status.value]||"warning";return t("el-tag",{attrs:{size:"mini",type:n}},[e.status.label])}},date_updated:{label:this.$t("Date")},actions:{formatterArgs:{hasUpdate:!1,hasDelete:!1,hasClone:!1,extraActions:[{title:this.$t("Deploy"),callback:function(t){var a=t.row;this.$axios.post("/api/v1/terminal/applet-host-deployments/applets/",{hosts:[a.host.id],applet_id:e.object.id}).then((function(t){Object(p["k"])(t["task"])}))}}]}}}}}}},m=d,h=a("2877"),f=Object(h["a"])(m,c,o,!1,null,null,null),b=f.exports,v={name:"AppletDetail",components:{GenericDetailPage:s["d"],TabPage:s["l"],Detail:r["default"],AppletHosts:b},data:function(){var t=this;return{applet:{},config:{url:"/api/v1/terminal/applets",activeMenu:"Detail",submenu:[{title:this.$t("Basic"),name:"Detail"},{title:this.$t("AppletHosts"),name:"AppletHosts",hidden:!this.$hasPerm("terminal.view_appletpublication")}],hasRightSide:!0,actions:{hasUpdate:!1,canDelete:function(){return t.$hasPerm("terminal.delete_applet")},deleteSuccessRoute:"Applets"},titlePrefix:this.$tc("AppletDetail")}}}},g=v,$=Object(h["a"])(g,n,i,!1,null,null,null);e["default"]=$.exports},"3a29":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{lg:10,md:10,sm:24}},[a("AutoDetailCard",{attrs:{fields:t.detailFields,object:t.object,url:t.url,"label-width":"40%"}})],1),t._v(" "),a("el-col",{attrs:{lg:14,md:14,sm:24}},[a("IBox",{attrs:{title:"README"}},[t.object.readme?a("vue-markdown",{attrs:{source:t.object.readme}}):a("span",[t._v(t._s(t.$tc("NoData")))])],1)],1)],1)},i=[],s=(a("6d67"),a("e3bc")),r=a("9ce6"),c=a.n(r),o=a("2af9"),l={name:"Detail",components:{IBox:o["k"],VueMarkdown:c.a,AutoDetailCard:s["a"]},props:{object:{type:Object,default:function(){}}},data:function(){var t=this,e=this.$createElement,a=this;return{url:"/api/v1/terminal/applets/".concat(this.object.id),detailFields:[{key:"",formatter:function(){return e("img",{attrs:{src:t.object.icon,alt:"",height:"40"}})}},"name","display_name","author",{key:this.$t("Protocols"),formatter:function(){var a=["primary","success","warning","danger"],n=t.object.protocols.map((function(t,n){return e("el-tag",{attrs:{type:a[n%4],size:"mini"}},[t])}));return e("span",[" ",n," "])}},{key:this.$t("Tags"),formatter:function(){var a=["primary","success","warning","danger"],n=t.object.tags.map((function(t,n){return e("el-tag",{attrs:{type:a[n%4],size:"mini"}},[t])}));return e("span",[" ",n," "])}},{key:this.$t("Type"),value:this.object.type.label},{key:this.$t("Active"),formatter:function(){return e("el-switch",{attrs:{disabled:!a.$hasPerm("terminal.change_applet")},on:{change:function(e){var n="/api/v1/terminal/applets/".concat(a.object.id,"/"),i={is_active:e};a.$axios.patch(n,i).catch((function(){t.object.is_active=!e})).then((function(t){a.$message.success(a.$t("UpdateSuccessMsg"))})).catch((function(t){a.$message.error(a.$t("UpdateErrorMsg "+t))}))}},model:{value:t.object.is_active,callback:function(e){t.$set(t.object,"is_active",e)}}})}},"edition","can_concurrent","date_created","date_updated","comment"]}},computed:{},mounted:function(){},methods:{}},u=l,p=a("2877"),d=Object(p["a"])(u,n,i,!1,null,"19404bbc",null);e["default"]=d.exports}}]);