(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a412f75a"],{"0218":function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return s})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return u})),a.d(t,"g",(function(){return d}));var r=a("bd86"),n=a("0692"),i="pending",l="approved",c="rejected",s="closed",o=Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},i,{type:"success",title:n["a"].t("Pending")}),l,{type:"primary",title:n["a"].t("Approved")}),c,{type:"danger",title:n["a"].t("Rejected")}),s,{type:"info",title:n["a"].t("Closed")}),u=Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},i,{type:"success",title:n["a"].t("Pending")}),l,{type:"primary",title:n["a"].t("Approved")}),c,{type:"danger",title:n["a"].t("Rejected")}),s,{type:"warning",title:n["a"].t("StateClosed")}),d=[{value:"all",label:n["a"].t("All"),children:[{value:"connect",label:n["a"].t("Connect")},{value:"delete",label:n["a"].t("Delete")},{value:"share",label:n["a"].t("Share")},{value:"updownload",label:n["a"].t("UpDownload"),children:[{value:"upload",label:n["a"].t("Upload")},{value:"download",label:n["a"].t("Download")}]},{value:"copy_paste",label:n["a"].t("Clipboard"),children:[{value:"copy",label:n["a"].t("Copy")},{value:"paste",label:n["a"].t("Paste")}]}]}]},d75b:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("GenericListPage",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ListPage",attrs:{"create-drawer":e.createDrawer,"detail-drawer":e.detailDrawer,"header-actions":e.iTicketAction,"table-config":e.ticketTableConfig}})},n=[],i=(a("7f7f"),a("bd86")),l=a("cd4a"),c=a("53f7"),s=a("3f95"),o=a("0218"),u={name:"TicketListTable",components:{GenericListPage:l["e"]},props:{url:{type:String,default:"/api/v1/tickets/tickets/"},extraTicketAction:{type:Object,default:function(){return{}}},extraQuery:{type:Object,default:function(){return{}}}},data:function(){var e=this,t=this;return{loading:!0,createDrawer:function(){return Promise.all([a.e("chunk-commons"),a.e("chunk-55b557da"),a.e("chunk-4367c372"),a.e("chunk-4f216562")]).then(a.bind(null,"3cae"))},detailDrawer:null,ticketTableConfig:{url:this.url,extraQuery:this.extraQuery,columnsExclude:["process_map","rel_snapshot"],columnsShow:{min:["title","serial_num","type","state","date_created"],default:["title","serial_num","type","state","date_created"]},columnsMeta:{serial_num:{label:this.$t("Number"),sortable:"custom"},title:{label:this.$t("Title"),formatter:c["i"],sortable:"custom",formatterArgs:{drawer:!0,getRoute:function(t){var a=t.row,r=a.type.value,n={apply_asset:"AssetsTicketDetail",login_asset_confirm:"LoginAssetTicketDetail",login_confirm:"LoginTicketDetail",command_confirm:"CommandConfirmDetail"};return e.$store.dispatch("common/setDrawerActionMeta",{action:"detail",row:{},col:{},id:a.id}),{name:n[r]||"TicketDetail",params:{id:a.id}}}}},applicant:{label:this.$t("Applicant"),sortable:"custom",formatter:function(e){return e["rel_snapshot"].applicant}},type:{label:this.$t("Type"),formatter:function(e){return e.type.label}},status:{align:"center",sortable:"custom",formatter:c["s"],formatterArgs:{getTagLabel:function(e){var t=e.row;return t.status.label},getTagType:function(e){var t=e.row;return"open"===t.status.value?"primary":"danger"}}},state:{label:this.$t("Action"),align:"center",sortable:"custom",formatter:c["s"],formatterArgs:{getTagType:function(e){var t=e.row,a=Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},o["c"],"success"),o["a"],"primary"),o["d"],"danger"),o["b"],"info");return a[t.state.value]||"warning"},getTagLabel:function(e){var a=e.row;return a.state.label||t.$t("Pending")}}},date_created:{label:this.$t("Date"),sortable:"custom",formatter:function(e){return Object(s["i"])(e.date_created)}},actions:{has:"AuditTicketList"!==this.$route.name}}},defaultTicketActions:{hasExport:!1,hasMoreActions:!1,hasLeftActions:!0,canCreate:this.$hasPerm("tickets.view_ticket"),hasBulkDelete:!1,searchConfig:{exclude:["id","title","type","applicant"],options:[{value:"id",label:"ID"},{value:"title",label:this.$t("Title")},{value:"type",label:this.$t("Type"),type:"choice",children:[{value:"apply_asset",label:this.$t("ApplyAsset")},{value:"login_confirm",label:this.$t("LoginConfirm")},{value:"command_confirm",label:this.$t("CommandConfirm")},{value:"login_asset_confirm",label:this.$t("LoginAssetConfirm")}]},{value:"applicant_username_name",label:this.$t("Applicant")},{value:"relevant_asset",label:this.$t("RelevantAsset")},{value:"relevant_system_user",label:this.$t("RelevantCommand")},{value:"relevant_command",label:this.$t("ApplyRunCommand")}]},moreCreates:{},createTitle:this.$t("RequestTickets")}}},computed:{iTicketAction:function(){return Object.assign({},this.defaultTicketActions,this.extraTicketAction)}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),500)},methods:{reloadTable:function(){this.$refs.ListPage.$refs.ListTable.$refs.ListTable.reloadTable()}}},d=u,p=a("2877"),b=Object(p["a"])(d,r,n,!1,null,null,null);t["a"]=b.exports},eae5:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("BaseTicketList",e._b({attrs:{url:e.url}},"BaseTicketList",e.$data,!1))},n=[],i=(a("1c01"),a("58b2"),a("8e6e"),a("f3e2"),a("d25f"),a("ac6a"),a("456d"),a("bd86")),l=a("d75b"),c=a("2f62");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={name:"MyTicketList",components:{BaseTicketList:l["a"]},data:function(){return{extraTicketAction:{moreCreates:{dropdown:[{name:"RequestAssetPerm",title:this.$t("RequestAssetPerm")}]}}}},computed:o({url:function(){return"/api/v1/tickets/tickets/?applicant=".concat(this.currentUser.id,"&state=pending")}},Object(c["b"])(["currentUser"]))},d=u,p=a("2877"),b=Object(p["a"])(d,r,n,!1,null,null,null);t["default"]=b.exports}}]);