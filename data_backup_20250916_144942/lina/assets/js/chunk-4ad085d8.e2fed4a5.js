(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ad085d8"],{"1c45":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Dialog",{attrs:{"show-cancel":!1,title:e.title,visible:e.visible,"close-on-click-modal":!1,width:"700px"},on:{"update:visible":function(t){e.visible=t},close:e.onClose,confirm:function(t){e.visible=!1}}},[a("el-alert",{attrs:{type:"warning",closable:!1}},[e._v("\n    "+e._s(e.warningText)+"\n    "),a("div",{staticClass:"secret"},[a("div",{staticClass:"row"},[a("span",{staticClass:"col"},[e._v("ID:")]),e._v(" "),a("span",{staticClass:"value"},[e._v(e._s(e.keyInfo.id))]),e._v(" "),a("i",{staticClass:"el-icon-copy-document copy-icon",on:{click:function(t){return e.handleCopy(e.keyInfo.id)}}})]),e._v(" "),a("div",{staticClass:"row"},[a("span",{staticClass:"col"},[e._v("Secret:")]),e._v(" "),a("span",{staticClass:"value"},[e._v(e._s(e.keyInfo.secret))]),e._v(" "),a("i",{staticClass:"el-icon-copy-document copy-icon",on:{click:function(t){return e.handleCopy(e.keyInfo.secret)}}})])])])],1)},s=[],i=a("0692"),c=a("dbfd"),o=a("9039"),r={name:"Secret",components:{Dialog:o["a"]},props:{title:{type:String,default:function(){return i["a"].t("CreateAccessKey")}},warningText:{type:String,default:function(){return i["a"].t("ApiKeyWarning")}}},data:function(){return{keyInfo:{id:"",secret:""},visible:!1}},methods:{show:function(e){this.keyInfo=e,this.visible=!0},onClose:function(){this.$emit("close")},handleCopy:function(e){Object(c["d"])(e)}}},l=r,u=(a("e11c"),a("2877")),d=Object(u["a"])(l,n,s,!1,null,"0ea8bf3a",null);t["a"]=d.exports},afab:function(e,t,a){},b17e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("GenericListPage",{ref:"GenericListPage",attrs:{"create-drawer":e.createDrawer,"header-actions":e.headerActions,"help-tip":e.helpMessage,"table-config":e.tableConfig}}),e._v(" "),a("SecretDialog",{ref:"secretDialog",on:{close:e.onClose}})],1)},s=[],i=(a("d92a"),a("cd4a")),c=a("53f7"),o=a("1c45"),r={components:{SecretDialog:o["a"],GenericListPage:i["e"]},data:function(){var e=this,t="/api/v1/authentication/access-keys/";return{createDrawer:function(){return a.e("chunk-2d2091ce").then(a.bind(null,"a856"))},mfaUrl:"",mfaDialogVisible:!1,helpMessage:this.$t("ApiKeyList"),warningText:this.$t("ApiKeyWarning"),visible:!1,key:{id:"",secret:""},tableConfig:{hasSelection:!0,url:t,columns:["id","secret","ip_group","is_active","date_created","date_last_used","actions"],columnsShow:{min:["id","actions"]},columnsMeta:{id:{label:"ID"},secret:{label:"Secret",formatter:function(){return"********"}},date_created:{label:this.$t("DateCreated"),formatter:c["g"]},ip_group:{label:this.$t("AccessIP"),formatter:c["d"]},actions:{formatterArgs:{hasClone:!1,updateRoute:"AccessKeyCreateUpdate",onDelete:function(e){var a=this,n=e.row;this.$axios.delete("".concat(t).concat(n.id,"/")).then((function(e){a.reloadTable(),a.$message.success(a.$tc("DeleteSuccessMsg"))})).catch((function(e){a.$message.error(a.$tc("DeleteErrorMsg")+" "+e)}))}.bind(this),extraActions:[{name:"Enabled",title:function(t){var a=t.row;return a.is_active?e.$t("Disable"):e.$t("Enable")},type:"info",can:function(){return e.$hasPerm("authentication.change_accesskey")},callback:function(e){var a=this,n=e.row;this.$axios.patch("".concat(t).concat(n.id,"/"),{is_active:!n.is_active}).then((function(e){a.reloadTable(),a.$message.success(a.$tc("UpdateSuccessMsg"))})).catch((function(e){a.$message.error(a.$t("UpdateErrorMsg")+" "+e)}))}.bind(this)}]}}}},headerActions:{hasMoreActions:!1,hasExport:!1,hasImport:!1,hasBulkDelete:!1,hasCreate:!1,extraActions:[{name:this.$t("Create"),title:this.$t("Create"),type:"primary",can:function(){return e.$hasPerm("authentication.add_accesskey")},callback:function(){var e=this;this.$axios.post(t).then((function(t){e.$refs.secretDialog.show(t)}))}.bind(this)}]}}},methods:{onClose:function(){this.reloadTable()},reloadTable:function(){this.$refs.GenericListPage.reloadTable()}}},l=r,u=a("2877"),d=Object(u["a"])(l,n,s,!1,null,null,null);t["default"]=d.exports},e11c:function(e,t,a){"use strict";a("afab")}}]);