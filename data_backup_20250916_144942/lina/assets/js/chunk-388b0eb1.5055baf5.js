(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-388b0eb1","chunk-52829884"],{"0482":function(e,t,r){},"24cd":function(e,t,r){},"273b":function(e,t,r){"use strict";r("0482")},"387d":function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return a}));r("7f7f");var n=r("f823"),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{component:n["c"],el:{value:[],resource:e.$t("Users"),select2:{url:"/api/v1/users/users/",ajax:{transformOption:function(e){return{label:e.name+"("+e.username+")",value:e.id}}}},attrs:[{name:"name",label:e.$t("Name"),inTable:!0},{name:"username",label:e.$t("Username"),inTable:!0},{name:"email",label:e.$t("Email"),inTable:!0},{name:"comment",label:e.$t("Comment"),inTable:!0},{name:"is_active",label:e.$t("IsActive"),type:"bool"},{name:"is_first_login",label:e.$t("FirstLogin"),type:"bool"},{name:"system_roles",type:"m2m",label:e.$t("SystemRoles"),el:{url:"/api/v1/rbac/system-roles/?fields_size=mini",ajax:{transformOption:function(e){return{label:e.display_name,value:e.id}}},displayField:"display_name"}},{name:"org_roles",label:e.$t("OrgRoles"),type:"m2m",el:{url:"/api/v1/rbac/org-roles/",ajax:{transformOption:function(e){return{label:e.display_name,value:e.id}}},displayField:"display_name"},disabled:t},{name:"groups",label:e.$t("UserGroups"),type:"m2m",el:{url:"/api/v1/users/groups/?fields_size=mini"}},{name:"labels",label:e.$t("Tags"),type:"m2m",el:{multiple:!0,url:"/api/v1/assets/labels/",ajax:{transformOption:function(e){return{label:"".concat(e.name,":").concat(e.value),value:e.id}}}}}]}}},s={allUsers:3,onlyAdminUsers:4},a={notEnable:0,allUsers:1,onlyAdminUsers:2}},"3cc2":function(e,t,r){},5827:function(e,t,r){},7:function(e,t){},"747d":function(e,t,r){"use strict";r("5827")},b708:function(e,t,r){},bd11:function(e,t){e.exports=b,e.exports.match=o,e.exports.regexpToFunction=l,e.exports.parse=i,e.exports.compile=a,e.exports.tokensToFunction=c,e.exports.tokensToRegExp=h;var r="/",n=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function i(e,t){var i,a=[],o=0,l=0,c="",u=t&&t.delimiter||r,p=t&&t.whitelist||void 0,d=!1;while(null!==(i=n.exec(e))){var m=i[0],g=i[1],h=i.index;if(c+=e.slice(l,h),l=h+m.length,g)c+=g[1],d=!0;else{var b="",v=i[2],y=i[3],_=i[4],w=i[5];if(!d&&c.length){var O=c.length-1,$=c[O],S=!p||p.indexOf($)>-1;S&&(b=$,c=c.slice(0,O))}c&&(a.push(c),c="",d=!1);var x="+"===w||"*"===w,j="?"===w||"*"===w,D=y||_,A=b||u,k=b||("string"===typeof a[a.length-1]?a[a.length-1]:"");a.push({name:v||o++,prefix:b,delimiter:A,optional:j,repeat:x,pattern:D?f(D):s(A,u,k)})}}return(c||l<e.length)&&a.push(c+e.substr(l)),a}function s(e,t,r){var n="[^"+u(e===t?e:e+t)+"]";return!r||r.indexOf(e)>-1||r.indexOf(t)>-1?n+"+?":u(r)+"|(?:(?!"+u(r)+")"+n+")+?"}function a(e,t){return c(i(e,t),t)}function o(e,t){var r=[],n=b(e,r,t);return l(n,r)}function l(e,t){return function(r,n){var i=e.exec(r);if(!i)return!1;for(var s=i[0],a=i.index,o={},l=n&&n.decode||decodeURIComponent,c=1;c<i.length;c++)if(void 0!==i[c]){var u=t[c-1];u.repeat?o[u.name]=i[c].split(u.delimiter).map((function(e){return l(e,u)})):o[u.name]=l(i[c],u)}return{path:s,index:a,params:o}}}function c(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(r[n]=new RegExp("^(?:"+e[n].pattern+")$",p(t)));return function(t,n){for(var i="",s=n&&n.encode||encodeURIComponent,a=!n||!1!==n.validate,o=0;o<e.length;o++){var l=e[o];if("string"!==typeof l){var c,u=t?t[l.name]:void 0;if(Array.isArray(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but got array');if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var f=0;f<u.length;f++){if(c=s(u[f],l),a&&!r[o].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'"');i+=(0===f?l.prefix:l.delimiter)+c}}else if("string"!==typeof u&&"number"!==typeof u&&"boolean"!==typeof u){if(!l.optional)throw new TypeError('Expected "'+l.name+'" to be '+(l.repeat?"an array":"a string"))}else{if(c=s(String(u),l),a&&!r[o].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but got "'+c+'"');i+=l.prefix+c}}else i+=l}return i}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function f(e){return e.replace(/([=!:$/()])/g,"\\$1")}function p(e){return e&&e.sensitive?"":"i"}function d(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}function m(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(b(e[i],t,r).source);return new RegExp("(?:"+n.join("|")+")",p(r))}function g(e,t,r){return h(i(e,r),t,r)}function h(e,t,n){n=n||{};for(var i=n.strict,s=!1!==n.start,a=!1!==n.end,o=n.delimiter||r,l=[].concat(n.endsWith||[]).map(u).concat("$").join("|"),c=s?"^":"",f=0;f<e.length;f++){var d=e[f];if("string"===typeof d)c+=u(d);else{var m=d.repeat?"(?:"+d.pattern+")(?:"+u(d.delimiter)+"(?:"+d.pattern+"))*":d.pattern;t&&t.push(d),d.optional?d.prefix?c+="(?:"+u(d.prefix)+"("+m+"))?":c+="("+m+")?":c+=u(d.prefix)+"("+m+")"}}if(a)i||(c+="(?:"+u(o)+")?"),c+="$"===l?"$":"(?="+l+")";else{var g=e[e.length-1],h="string"===typeof g?g[g.length-1]===o:void 0===g;i||(c+="(?:"+u(o)+"(?="+l+"))?"),h||(c+="(?="+u(o)+"|"+l+")")}return new RegExp(c,p(n))}function b(e,t,r){return e instanceof RegExp?d(e,t):Array.isArray(e)?m(e,t,r):g(e,t,r)}},c0eb:function(e,t,r){"use strict";var n=r("c5ec"),i=r.n(n);window.$=i.a,window.jQuery=i.a,t["a"]=i.a},de60:function(e,t,r){"use strict";r("24cd")},e323:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[e.hasButton?r("el-button",{staticClass:"proto-setting",attrs:{disabled:!e.canSetting,icon:e.icon,size:"small",type:"primary"},on:{click:e.onSetting}}):e._e(),e._v(" "),r("Dialog",{attrs:{"show-cancel":!1,"show-confirm":!1,title:e.title,visible:e.isVisible,width:"60%"},on:{"update:visible":function(t){e.isVisible=t},close:e.onDialogClose}},[r("AutoDataForm",e._g(e._b({ref:"autoDataForm",staticClass:"data-form",attrs:{form:e.form},on:{submit:e.onSubmit}},"AutoDataForm",e.config,!1),e.$listeners))],1)],1)},i=[],s=(r("1c01"),r("58b2"),r("8e6e"),r("f3e2"),r("d25f"),r("bd86")),a=r("768b"),o=(r("ffc1"),r("6762"),r("2fdb"),r("ac6a"),r("456d"),r("96cf"),r("3b8d")),l=r("9039"),c=r("c75f"),u=r("f823");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={components:{Dialog:l["a"],AutoDataForm:c["a"]},props:{value:{type:[String,Object],default:function(){return{}}},title:{type:String,default:function(){return this.$t("PushParams")}},btnText:{type:String,default:function(){return""}},icon:{type:String,default:"el-icon-setting"},url:{type:String,default:"/api/v1/assets/platform-automation-methods/"},method:{type:String,default:""},pushAccountParams:{type:Object,default:function(){return{}}},visible:{type:Boolean,default:!1},hasButton:{type:Boolean,default:!0}},data:function(){return{isVisible:this.visible,canSetting:!0,form:this.value,remoteMeta:{},config:{url:this.url,hasSaveContinue:!1,hasButtons:!0,hasReset:!1,fields:[],method:"get"},preFieldsMeta:{change_secret_by_ssh:{commands:{helpTextAsTip:!1}}}}},watch:{visible:function(e){this.isVisible=e},method:function(e,t){e!==t&&this.getUrlMeta()}},mounted:function(){this.getUrlMeta()},methods:{getUrlMeta:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("common/getUrlMeta",{url:this.url});case 2:t=e.sent,this.remoteMeta=t.actions[this.config.method.toUpperCase()]||{},this.onCanSetting()&&this.setFormConfig();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onCanSetting:function(){var e=Object.keys(this.remoteMeta);return this.canSetting=e.includes(this.method)&&this.$hasPerm("assets.change_platform"),this.$emit("canSetting",this.canSetting),this.canSetting},setFormConfig:function(){var e=[],t={},r=this.method,n=this.remoteMeta[r];e=[[n.label,[r]]],t[r]={fields:[],fieldsMeta:{}};var i=this.pushAccountParams[r];if(Object.keys((null===n||void 0===n?void 0:n.children)||{}).length>0)for(var s=0,o=Object.entries(n.children);s<o.length;s++){var l=Object(a["a"])(o[s],2),c=l[0],f=l[1],d="el-input",m={};switch(null===f||void 0===f?void 0:f.type){case"list":d=u["b"];break;case"boolean":d=u["j"];break;case"text":m["text"]="textarea";break}i&&(f.default=i[c]||f.default);var g=p(p({},f),{},{component:d,el:m});t[r].fields.push(c),t[r].fieldsMeta[c]=g}var h=this.preFieldsMeta[r];if(h)for(var b=0,v=Object.entries(h);b<v.length;b++)for(var y=Object(a["a"])(v[b],2),_=y[0],w=y[1],O=0,$=Object.entries(w);O<$.length;O++){var S=Object(a["a"])($[O],2),x=S[0],j=S[1];t[r]["fieldsMeta"][_][x]=j}this.config.fields=e,this.config.fieldsMeta=t},onSetting:function(){this.isVisible=!0},onSubmit:function(e){this.$emit("input",e),this.isVisible=!1,this.$emit("update:visible",this.isVisible)},onDialogClose:function(){this.$emit("update:visible",this.isVisible)}}},m=d,g=(r("273b"),r("2877")),h=Object(g["a"])(m,n,i,!1,null,"2772642f",null);t["a"]=h.exports},ec0e:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("GenericListPage",{ref:"GenericListPage",attrs:{"create-drawer":e.createDrawer,"detail-drawer":e.detailDrawer,"header-actions":e.headerActions,"quick-filters":e.quickFilters,"table-config":e.tableConfig}}),e._v(" "),e.updateSelectedDialogSetting.visible?r("GenericUpdateFormDialog",{attrs:{"form-setting":e.updateSelectedDialogSetting.formSetting,"selected-rows":e.updateSelectedDialogSetting.selectedRows,visible:e.updateSelectedDialogSetting.visible},on:{"update:visible":function(t){return e.$set(e.updateSelectedDialogSetting,"visible",t)},update:e.handleDialogUpdate}}):e._e(),e._v(" "),r("InviteUsersDialog",{attrs:{setting:e.InviteDialogSetting},on:{close:e.handleInviteDialogClose}})],1)},i=[],s=(r("1c01"),r("58b2"),r("8e6e"),r("f3e2"),r("d25f"),r("ac6a"),r("456d"),r("96cf"),r("3b8d")),a=(r("7f7f"),r("bd86")),o=(r("8ea5"),r("d92a"),r("6d67"),r("a481"),r("2934")),l=r("cd4a"),c=r("2f62"),u=r("3f95"),f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.setting.InviteDialogVisible?r("Dialog",{attrs:{"destroy-on-close":!0,"show-cancel":!1,"show-confirm":!1,title:e.$tc("InviteUserInOrg"),visible:e.setting.InviteDialogVisible,after:"","custom-class":"asset-select-dialog",top:"8vh",width:"710px"},on:{"update:visible":function(t){return e.$set(e.setting,"InviteDialogVisible",t)}}},[r("GenericCreateUpdateForm",e._b({on:{submitSuccess:e.onSubmitSuccess}},"GenericCreateUpdateForm",e.formConfig,!1))],1):e._e()},p=[],d=r("9039"),m=r("2af9"),g=r("5cba");function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={components:{Dialog:d["a"],GenericCreateUpdateForm:l["b"]},props:{setting:{type:Object,default:function(){return{InviteDialogVisible:!1}}}},data:function(){return{selectLoading:!1,InviteLoading:!1,formConfig:{url:"/api/v1/users/users/invite/",getUrl:function(){return"/api/v1/users/users/invite/"},submitMethod:function(){return"post"},hasReset:!1,hasSaveContinue:!1,createSuccessMsg:this.$t("InviteSuccess"),fields:["users","org_roles"],fieldsMeta:{users:{helpTextAsTip:!1,component:m["q"],el:{ajax:{url:"/api/v1/users/users/suggestions/",transformOption:function(e){return{label:"".concat(e.name,"(").concat(e.username,")"),value:e.id}}}}},org_roles:{rules:[g["f"].RequiredChange],component:m["q"],el:{ajax:{url:"/api/v1/rbac/org-roles/",transformOption:function(e){return{label:"".concat(e.display_name),value:e.id}}}}}}}}},computed:b({},Object(c["b"])(["currentOrg","currentUser","device"])),methods:{onSubmitSuccess:function(e){this.setting.InviteDialogVisible=!1,this.$emit("close",e),this.$store.dispatch("users/currentUserJoinNewOrg",e.users),this.$router.push({name:"UserList",query:{order:"-date_updated"}})}}},y=v,_=(r("747d"),r("2877")),w=Object(_["a"])(y,f,p,!1,null,"97f8283a",null),O=w.exports,$=r("b318"),S=r("4360"),x=r("387d"),j=r("62f3");function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k={components:{InviteUsersDialog:O,GenericListPage:l["e"],GenericUpdateFormDialog:l["h"]},data:function(){var e=this,t=this.$createElement,n=this,i=function(){return n.$hasPerm("users.delete_user")},s=function(){return!!n.publicSettings["XPACK_LICENSE_IS_VALID"]&&!n.currentOrgIsRoot};return{createDrawer:function(){return r.e("chunk-24fad8a0").then(r.bind(null,"eb82"))},detailDrawer:function(){return Promise.all([r.e("chunk-commons"),r.e("chunk-1f751575")]).then(r.bind(null,"eea5"))},quickFilters:[{label:this.$t("QuickFilter"),options:[{label:this.$t("Invalid"),filter:{is_valid:!1}},{label:this.$t("Disabled"),filter:{is_active:!1}},{label:this.$t("Expired"),filter:{is_expired:!0}},{label:this.$t("NeverLogin"),filter:{is_first_login:!0}}]},{label:this.$t("Auth"),options:[{label:this.$t("PasswordExpired"),filter:{is_password_expired:!0}},{label:this.$t("NoLoginLongTime"),filter:{is_long_time_no_login:!0}},{label:this.$t("NoMFA"),filter:{mfa_level:0}},{label:this.$t("LoginBlocked"),filter:{is_login_blocked:!0}}]}],tableConfig:{url:"/api/v1/users/users/",permissions:{resource:"user"},columnsExclude:["password","password_strategy","public_key","mfa_force_enabled","is_service_account","avatar_url"],columnsShow:{min:["name","username","actions"],default:["name","username","email","groups","is_valid","actions"]},columnsMeta:{name:{formatter:j["a"],formatterArgs:{routeQuery:{tab:"Basic"},getRoute:function(e){var t=e.row;return{name:"UserDetail",params:{id:t.id}}}}},mfa_level:{width:"130px",formatter:function(t){var r=S["a"].getters.publicSettings["SECURITY_MFA_AUTH"];return r===x["b"].allUsers?e.$t("MFAAllUsers"):r===x["b"].onlyAdminUsers&&(null!==t&&void 0!==t&&t.is_superuser||null!==t&&void 0!==t&&t.is_org_admin)?e.$t("MFAOnlyAdminUsers"):t["mfa_level"].label}},source:{width:"120px",collapsible:!1},email:{"min-width":"160px"},wecom_id:{width:"120px"},username:{formatter:function(e){return e["username"].replace(" ","*")}},groups:{formatter:$["a"],formatterArgs:{routeQuery:{tab:"UserDetail"}}},system_roles:{formatter:function(e){return e["system_roles"].map((function(e){return e["display_name"]})).join(", ")||"-"},filters:[],columnKey:"system_roles"},org_roles:{formatter:function(e){return e["org_roles"].map((function(e){return e["display_name"]})).join(", ")||"-"},filters:[],columnKey:"org_roles",has:function(){return e.$store.getters.hasValidLicense&&!e.currentOrgIsRoot}},orgs_roles:{columnKey:"orgs_roles",has:function(){return e.$store.getters.currentOrgIsRoot},formatter:$["a"],filters:[],formatterArgs:{getItem:function(e){return e.key+": "+e.value.join(", ")}}},phone:{width:"120px",formatter:function(e){var r=e.phone;return null!==r&&void 0!==r&&r.phone?t("div",[null===r||void 0===r?void 0:r.code,null===r||void 0===r?void 0:r.phone]):""}},login_blocked:{width:"120px",formatterArgs:{showFalse:!1}},is_first_login:{formatterArgs:{showFalse:!1}},can_public_key_auth:{width:"230px",formatterArgs:{showFalse:!1}},date_password_last_updated:{width:"230px"},need_update_password:{width:"200px",formatterArgs:{showFalse:!1}},is_expired:{formatterArgs:{showFalse:!1}},actions:{formatterArgs:{hasDelete:i,canUpdate:function(t){var r=t.row;return e.$hasPerm("users.change_user")&&!(!e.currentUserIsSuperAdmin&&r["is_superuser"])},extraActions:[{title:this.$t("Remove"),name:"remove",type:"warning",has:s,can:n.$hasPerm("users.remove_user"),callback:this.removeUserFromOrg}]}}}},headerActions:{hasLabelSearch:!0,hasBulkDelete:i,canCreate:this.$hasPerm("users.add_user"),extraActions:[{name:this.$t("InviteUser"),title:this.$t("InviteUser"),has:function(){return!e.currentOrgIsRoot&&e.publicSettings.XPACK_LICENSE_IS_VALID},can:function(){return n.$hasPerm("users.invite_user")},callback:function(){e.InviteDialogSetting.InviteDialogVisible=!0}}],hasBulkUpdate:!0,canBulkUpdate:function(e){var t=e.selectedRows;return t.length>0&&n.$hasPerm("users.change_user")},handleBulkUpdate:function(e){var t=e.selectedRows;n.updateSelectedDialogSetting.visible=!0,n.updateSelectedDialogSetting.selectedRows=t},extraMoreActions:[{title:this.$t("RemoveSelected"),name:"RemoveSelected",has:s,icon:"remove",can:function(e){var t=e.selectedRows;return t.length>0&&n.$hasPerm("users.remove_user")},callback:this.bulkRemoveCallback.bind(this)},{name:"BatchDisable",title:this.$t("DisableSelected"),icon:"fa fa-ban",can:function(e){var t=e.selectedRows;return t.length>0&&n.$hasPerm("users.change_user")},callback:function(e){var t=e.selectedRows,r=e.reloadTable;return n.bulkActionCallback(t,r,"disable")}},{name:"BatchActivate",title:this.$t("ActivateSelected"),icon:"fa fa-check-circle-o",can:function(e){var t=e.selectedRows;return t.length>0&&n.$hasPerm("users.change_user")},callback:function(e){var t=e.selectedRows,r=e.reloadTable;return n.bulkActionCallback(t,r,"activate")}}]},updateSelectedDialogSetting:{selectedRows:[],visible:!1,formSetting:{initial:{date_expired:Object(u["d"])(36500,new Date).toISOString()},fields:["groups","date_expired","comment"],hasSaveContinue:!1,url:"/api/v1/users/users/",fieldsMeta:{groups:{label:this.$t("UserGroups"),el:{multiple:!0,disabled:n.$store.getters.currentOrgIsRoot,ajax:{url:"/api/v1/users/groups/"},value:[]}},date_expired:{label:this.$t("DateExpired"),hidden:function(){return!1}},comment:{label:this.$t("Comment"),hidden:function(){return!1}}}}},InviteDialogSetting:{InviteDialogVisible:!1}}},computed:A({},Object(c["b"])(["currentOrgIsRoot","currentUser","publicSettings","device","currentOrgIsDefault","currentUserIsSuperAdmin"])),mounted:function(){this.setRolesFilter()},methods:{setRolesFilter:function(){for(var e=this,t=[{name:"system-roles",perm:"systemrole"},{name:"org-roles",perm:"orgrole"}],r=function(){var t=i[n];e.$hasPerm("rbac.".concat(t.perm))&&e.$axios.get("/api/v1/rbac/".concat(t,"/")).then((function(r){var n=t.name.replace("-","_");e.tableConfig.columnsMeta[n].filters=r.map((function(e){return{text:e["display_name"],value:e.id}}))}))},n=0,i=t;n<i.length;n++)r()},removeUserFromOrg:function(e){var t=this,r=e.row,n=e.reload;this.$confirm(this.$t("RemoveWarningMsg")+" "+r.name+" ?",this.$tc("Info"),{type:"warning"}).then((function(){var e="/api/v1/users/users/".concat(r.id,"/remove/");t.$axios.post(e).then((function(){n(),t.$message.success(t.$tc("RemoveSuccessMsg"))}))})).catch((function(){}))},bulkRemoveCallback:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r,n,i,s,a,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.selectedRows,n=t.reloadTable,i=r.map((function(e){return e.id})),e.next=4,Object(o["a"])(i);case 4:s=e.sent,a="".concat(this.tableConfig.url,"remove/?spm=")+s.spm,this.$axios.post(a).then((function(){n(),l.$message.success(l.$tc("RemoveSuccessMsg"))}));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),reloadTable:function(){this.$refs.GenericListPage.reloadTable()},bulkActionCallback:function(e,t,r){var n={disable:"DisableSuccessMsg",activate:"ActivateSuccessMsg",remove:"RemoveSuccessMsg",delete:"DeleteSuccessMsg"},i=this,s="/api/v1/users/users/",a=e.map((function(e){return{id:e.id,is_active:"activate"===r}}));0!==a.length&&this.$axios.patch(s,a).then((function(){t(),i.$message.success(i.$t(n[r]))}))},handleInviteDialogClose:function(){this.InviteDialogSetting.InviteDialogVisible=!1,this.reloadTable()},handleDialogUpdate:function(){this.updateSelectedDialogSetting.visible=!1,this.tableConfig.columnsMeta.groups={formatter:$["a"],formatterArgs:{routeQuery:{tab:"UserDetail"}}},this.reloadTable()}}},U=k,P=(r("de60"),Object(_["a"])(U,n,i,!1,null,"2fd9b7da",null));t["default"]=P.exports}}]);