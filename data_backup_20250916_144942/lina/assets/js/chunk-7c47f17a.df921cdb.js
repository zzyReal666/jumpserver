(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c47f17a","chunk-52829884"],{"0482":function(t,e,i){},"273b":function(t,e,i){"use strict";i("0482")},"3cc2":function(t,e,i){},7:function(t,e){},b708:function(t,e,i){},bd11:function(t,e){t.exports=b,t.exports.match=s,t.exports.regexpToFunction=c,t.exports.parse=r,t.exports.compile=a,t.exports.tokensToFunction=l,t.exports.tokensToRegExp=g;var i="/",n=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function r(t,e){var r,a=[],s=0,c=0,l="",u=e&&e.delimiter||i,f=e&&e.whitelist||void 0,h=!1;while(null!==(r=n.exec(t))){var d=r[0],m=r[1],g=r.index;if(l+=t.slice(c,g),c=g+d.length,m)l+=m[1],h=!0;else{var b="",v=r[2],y=r[3],w=r[4],O=r[5];if(!h&&l.length){var x=l.length-1,j=l[x],$=!f||f.indexOf(j)>-1;$&&(b=j,l=l.slice(0,x))}l&&(a.push(l),l="",h=!1);var k="+"===O||"*"===O,D="?"===O||"*"===O,E=y||w,S=b||u,_=b||("string"===typeof a[a.length-1]?a[a.length-1]:"");a.push({name:v||s++,prefix:b,delimiter:S,optional:D,repeat:k,pattern:E?p(E):o(S,u,_)})}}return(l||c<t.length)&&a.push(l+t.substr(c)),a}function o(t,e,i){var n="[^"+u(t===e?t:t+e)+"]";return!i||i.indexOf(t)>-1||i.indexOf(e)>-1?n+"+?":u(i)+"|(?:(?!"+u(i)+")"+n+")+?"}function a(t,e){return l(r(t,e),e)}function s(t,e){var i=[],n=b(t,i,e);return c(n,i)}function c(t,e){return function(i,n){var r=t.exec(i);if(!r)return!1;for(var o=r[0],a=r.index,s={},c=n&&n.decode||decodeURIComponent,l=1;l<r.length;l++)if(void 0!==r[l]){var u=e[l-1];u.repeat?s[u.name]=r[l].split(u.delimiter).map((function(t){return c(t,u)})):s[u.name]=c(r[l],u)}return{path:o,index:a,params:s}}}function l(t,e){for(var i=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(i[n]=new RegExp("^(?:"+t[n].pattern+")$",f(e)));return function(e,n){for(var r="",o=n&&n.encode||encodeURIComponent,a=!n||!1!==n.validate,s=0;s<t.length;s++){var c=t[s];if("string"!==typeof c){var l,u=e?e[c.name]:void 0;if(Array.isArray(u)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but got array');if(0===u.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var p=0;p<u.length;p++){if(l=o(u[p],c),a&&!i[s].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'"');r+=(0===p?c.prefix:c.delimiter)+l}}else if("string"!==typeof u&&"number"!==typeof u&&"boolean"!==typeof u){if(!c.optional)throw new TypeError('Expected "'+c.name+'" to be '+(c.repeat?"an array":"a string"))}else{if(l=o(String(u),c),a&&!i[s].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but got "'+l+'"');r+=c.prefix+l}}else r+=c}return r}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function p(t){return t.replace(/([=!:$/()])/g,"\\$1")}function f(t){return t&&t.sensitive?"":"i"}function h(t,e){if(!e)return t;var i=t.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return t}function d(t,e,i){for(var n=[],r=0;r<t.length;r++)n.push(b(t[r],e,i).source);return new RegExp("(?:"+n.join("|")+")",f(i))}function m(t,e,i){return g(r(t,i),e,i)}function g(t,e,n){n=n||{};for(var r=n.strict,o=!1!==n.start,a=!1!==n.end,s=n.delimiter||i,c=[].concat(n.endsWith||[]).map(u).concat("$").join("|"),l=o?"^":"",p=0;p<t.length;p++){var h=t[p];if("string"===typeof h)l+=u(h);else{var d=h.repeat?"(?:"+h.pattern+")(?:"+u(h.delimiter)+"(?:"+h.pattern+"))*":h.pattern;e&&e.push(h),h.optional?h.prefix?l+="(?:"+u(h.prefix)+"("+d+"))?":l+="("+d+")?":l+=u(h.prefix)+"("+d+")"}}if(a)r||(l+="(?:"+u(s)+")?"),l+="$"===c?"$":"(?="+c+")";else{var m=t[t.length-1],g="string"===typeof m?m[m.length-1]===s:void 0===m;r||(l+="(?:"+u(s)+"(?="+c+"))?"),g||(l+="(?="+u(s)+"|"+c+")")}return new RegExp(l,f(n))}function b(t,e,i){return t instanceof RegExp?h(t,e):Array.isArray(t)?d(t,e,i):m(t,e,i)}},be93:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Page",t._b({},"Page",t.$attrs,!1),[t.loading?t._e():i("div",[t.publicSettings.XPACK_ENABLED?i("el-alert",{attrs:{type:"success"}},[t._v("\n      "+t._s(this.$t("ImportLicenseTip"))+"\n    ")]):t._e(),t._v(" "),i("TwoCol",{scopedSlots:t._u([{key:"right",fn:function(){return[i("QuickActions",{attrs:{actions:t.quickActions,type:"primary"}})]},proxy:!0}],null,!1,3539164043)},[[i("DetailCard",{attrs:{items:t.detailItems,title:t.cardTitle}})]],2),t._v(" "),i("Dialog",{attrs:{title:t.$tc("ImportLicense"),visible:t.dialogLicenseImport,top:"20vh",width:"600px"},on:{"update:visible":function(e){t.dialogLicenseImport=e},cancel:function(e){t.dialogLicenseImport=!1},confirm:t.importLicense}},[i("div",{staticStyle:{"padding-bottom":"10px"}},[t._v("\n        "+t._s(this.$t("LicenseFile"))+"\n      ")]),t._v(" "),i("input",{attrs:{type:"file"},on:{change:t.fileChange}})])],1)])},r=[],o=(i("1c01"),i("58b2"),i("8e6e"),i("f3e2"),i("d25f"),i("ac6a"),i("456d"),i("bd86")),a=i("83b2"),s=i("2af9"),c=i("30f4"),l=i("34b7"),u=i("2f62"),p=i("52cc");function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d={name:"License",components:{TwoCol:p["a"],Page:a["a"],DetailCard:c["a"],QuickActions:s["o"],Dialog:s["i"]},props:{object:{type:Object,default:function(){}}},data:function(){return{loading:!0,dialogLicenseImport:!1,licenseData:{},licenseFile:{},quickActions:[{title:this.$t("ImportLicense"),attrs:{type:"primary",label:this.$t("Import"),disabled:!1},callbacks:{click:this.importAction}},{title:this.$t("TechnologyConsult"),attrs:{type:"primary",label:this.$t("Consult")},callbacks:{click:this.consultAction}}]}},computed:h(h({},Object(u["b"])(["publicSettings","hasValidLicense"])),{},{cardTitle:function(){return""},detailItems:function(){var t,e,i=this.$createElement;return this.hasValidLicense?[{key:this.$t("SerialNumber"),value:(null===(t=this.licenseData)||void 0===t?void 0:t.serial_no)||""},{key:this.$t("Corporation"),value:this.licenseData.corporation},{key:this.$t("Expired"),value:this.licenseData.date_expired},{key:this.$t("AssetsOfNumber"),value:null!==this.licenseData.asset_count?this.licenseData.asset_count+"":""},{key:this.$t("Edition"),value:this.licenseData.edition},{key:this.$t("Comment"),value:(null===(e=this.licenseData)||void 0===e?void 0:e.remark)||""}]:[{key:this.$t("Version"),value:this.$t("CommunityEdition")},{key:this.$t("Expired"),value:this.$t("Never")},{key:this.$t("License"),value:"GPLv3"},{key:"Github",formatter:function(){return i("a",{attrs:{href:"https://github.com/jumpserver/jumpserver",target:"_blank"}},[" JumpServer "])}}]}}),mounted:function(){var t=this;this.quickActions[0].attrs.disabled=!this.publicSettings.XPACK_ENABLED,this.publicSettings.XPACK_ENABLED?this.$axios.get("/api/v1/xpack/license/detail").then((function(e){t.licenseData=e})).finally((function(){t.loading=!1})):this.loading=!1},methods:{importAction:function(){this.dialogLicenseImport=!0},consultAction:function(){var t="https://www.lxware.hk/pages/about";window.open(t,"_blank")},importLicense:function(){var t=this;if(void 0!==this.licenseFile["file"]){var e=new FormData;e.append("file",this.licenseFile["file"]),Object(l["c"])(e).then((function(e){e.status?(t.$message.success(e.msg),setTimeout((function(){return location.reload()}),500)):t.$message.error(e.msg)}))}},fileChange:function(t){this.licenseFile["file"]=t.target.files[0]}}},m=d,g=i("2877"),b=Object(g["a"])(m,n,r,!1,null,"a8c531e6",null);e["default"]=b.exports},c0eb:function(t,e,i){"use strict";var n=i("c5ec"),r=i.n(n);window.$=r.a,window.jQuery=r.a,e["a"]=r.a},e323:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[t.hasButton?i("el-button",{staticClass:"proto-setting",attrs:{disabled:!t.canSetting,icon:t.icon,size:"small",type:"primary"},on:{click:t.onSetting}}):t._e(),t._v(" "),i("Dialog",{attrs:{"show-cancel":!1,"show-confirm":!1,title:t.title,visible:t.isVisible,width:"60%"},on:{"update:visible":function(e){t.isVisible=e},close:t.onDialogClose}},[i("AutoDataForm",t._g(t._b({ref:"autoDataForm",staticClass:"data-form",attrs:{form:t.form},on:{submit:t.onSubmit}},"AutoDataForm",t.config,!1),t.$listeners))],1)],1)},r=[],o=(i("1c01"),i("58b2"),i("8e6e"),i("f3e2"),i("d25f"),i("bd86")),a=i("768b"),s=(i("ffc1"),i("6762"),i("2fdb"),i("ac6a"),i("456d"),i("96cf"),i("3b8d")),c=i("9039"),l=i("c75f"),u=i("f823");function p(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h={components:{Dialog:c["a"],AutoDataForm:l["a"]},props:{value:{type:[String,Object],default:function(){return{}}},title:{type:String,default:function(){return this.$t("PushParams")}},btnText:{type:String,default:function(){return""}},icon:{type:String,default:"el-icon-setting"},url:{type:String,default:"/api/v1/assets/platform-automation-methods/"},method:{type:String,default:""},pushAccountParams:{type:Object,default:function(){return{}}},visible:{type:Boolean,default:!1},hasButton:{type:Boolean,default:!0}},data:function(){return{isVisible:this.visible,canSetting:!0,form:this.value,remoteMeta:{},config:{url:this.url,hasSaveContinue:!1,hasButtons:!0,hasReset:!1,fields:[],method:"get"},preFieldsMeta:{change_secret_by_ssh:{commands:{helpTextAsTip:!1}}}}},watch:{visible:function(t){this.isVisible=t},method:function(t,e){t!==e&&this.getUrlMeta()}},mounted:function(){this.getUrlMeta()},methods:{getUrlMeta:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("common/getUrlMeta",{url:this.url});case 2:e=t.sent,this.remoteMeta=e.actions[this.config.method.toUpperCase()]||{},this.onCanSetting()&&this.setFormConfig();case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onCanSetting:function(){var t=Object.keys(this.remoteMeta);return this.canSetting=t.includes(this.method)&&this.$hasPerm("assets.change_platform"),this.$emit("canSetting",this.canSetting),this.canSetting},setFormConfig:function(){var t=[],e={},i=this.method,n=this.remoteMeta[i];t=[[n.label,[i]]],e[i]={fields:[],fieldsMeta:{}};var r=this.pushAccountParams[i];if(Object.keys((null===n||void 0===n?void 0:n.children)||{}).length>0)for(var o=0,s=Object.entries(n.children);o<s.length;o++){var c=Object(a["a"])(s[o],2),l=c[0],p=c[1],h="el-input",d={};switch(null===p||void 0===p?void 0:p.type){case"list":h=u["b"];break;case"boolean":h=u["j"];break;case"text":d["text"]="textarea";break}r&&(p.default=r[l]||p.default);var m=f(f({},p),{},{component:h,el:d});e[i].fields.push(l),e[i].fieldsMeta[l]=m}var g=this.preFieldsMeta[i];if(g)for(var b=0,v=Object.entries(g);b<v.length;b++)for(var y=Object(a["a"])(v[b],2),w=y[0],O=y[1],x=0,j=Object.entries(O);x<j.length;x++){var $=Object(a["a"])(j[x],2),k=$[0],D=$[1];e[i]["fieldsMeta"][w][k]=D}this.config.fields=t,this.config.fieldsMeta=e},onSetting:function(){this.isVisible=!0},onSubmit:function(t){this.$emit("input",t),this.isVisible=!1,this.$emit("update:visible",this.isVisible)},onDialogClose:function(){this.$emit("update:visible",this.isVisible)}}},d=h,m=(i("273b"),i("2877")),g=Object(m["a"])(d,n,r,!1,null,"2772642f",null);e["a"]=g.exports}}]);