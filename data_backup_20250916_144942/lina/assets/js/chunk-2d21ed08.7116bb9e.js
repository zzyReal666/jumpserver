(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ed08"],{d6bb:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showViewSecretDialog?a("RecordViewSecret",{attrs:{url:e.secretUrl,visible:e.showViewSecretDialog},on:{"update:visible":function(t){e.showViewSecretDialog=t}}}):e._e(),e._v(" "),a("GenericListTable",{attrs:{"header-actions":e.headerActions,"table-config":e.tableConfig}})],1)},c=[],r=(a("6d67"),a("d92a"),a("7f7f"),a("cd4a")),i=a("53f7"),n=a("ac6b"),o=a("1e7f"),u={name:"AccountChangeSecretRecord",components:{RecordViewSecret:o["a"],GenericListTable:r["f"]},data:function(){var e=this,t=this.$createElement,a=this;return{secretUrl:"",showViewSecretDialog:!1,tableConfig:{url:"/api/v1/accounts/change-secret-records/",columns:["asset","account","date_finished","is_success","error","actions"],columnsMeta:{asset:{label:this.$t("Asset"),formatter:i["i"],formatterArgs:{drawer:!0,can:this.$hasPerm("assets.view_asset"),getTitle:function(e){var t=e.row;return t.asset.name},getDrawerTitle:function(e){var t=e.row;return t.asset.name},getRoute:function(e){var t=e.row;return{name:"AssetDetail",params:{id:t.asset.id}}}}},account:{label:this.$t("Username"),formatter:i["i"],formatterArgs:{drawer:!0,can:this.$hasPerm("accounts.view_account"),getTitle:function(e){var t=e.row;return t.account.username},getDrawerTitle:function(e){var t=e.row;return t.account.username},getRoute:function(e){var t=e.row;return{name:"AssetAccountDetail",params:{id:t.account.id}}}}},is_success:{label:this.$t("Success"),formatter:function(e){return"pending"===e.status?t("i",{class:"fa  fa fa-spinner fa-spin"}):e.is_success?t("i",{class:"fa fa-check text-primary"}):t("i",{class:"fa fa-times text-danger"})}},actions:{formatter:i["c"],formatterArgs:{hasUpdate:!1,hasDelete:!1,hasClone:!1,moreActionsTitle:this.$t("More"),extraActions:[{name:"View",title:this.$t("View"),type:"primary",callback:function(e){var t=e.row;a.secretUrl="/api/v1/accounts/change-secret-records/".concat(t.id,"/secret/"),a.showViewSecretDialog=!1,setTimeout((function(){a.showViewSecretDialog=!0}))}},{name:"Retry",title:this.$t("Retry"),can:this.$hasPerm("accounts.add_changesecretexecution"),type:"primary",callback:function(t){var a=t.row;e.$axios.post("/api/v1/accounts/change-secret-records/execute/",{record_ids:[a.id]}).then((function(e){Object(n["k"])(e["task"])}))}}]}}}},headerActions:{hasSearch:!0,hasRefresh:!0,hasLeftActions:!0,hasRightActions:!0,hasExport:!1,hasImport:!1,hasCreate:!1,hasBulkDelete:!1,hasBulkUpdate:!1,searchConfig:{getUrlQuery:!0,exclude:["id","status","execution"],options:[{label:this.$t("Asset"),value:"asset_name"},{label:this.$t("Accounts"),value:"account_username"},{value:"status",label:this.$t("Status"),type:"choice",children:[{default:!0,value:"success",label:this.$t("Success")},{value:"failed",label:this.$t("Failed")},{value:"pending",label:this.$t("Pending")}]},{label:this.$t("ExecutionID"),value:"execution_id"}]},extraMoreActions:[{name:"RetrySelected",title:this.$t("RetrySelected"),type:"primary",fa:"fa-retweet",can:function(e){var t=e.selectedRows;return t.length>0&&a.$hasPerm("accounts.add_changesecretexecution")},callback:function(e){var t=e.selectedRows,a=t.map((function(e){return e.id}));this.$axios.post("/api/v1/accounts/change-secret-records/execute/",{record_ids:a}).then((function(e){Object(n["k"])(e["task"])}))}.bind(this)}]}}}},l=u,h=a("2877"),d=Object(h["a"])(l,s,c,!1,null,null,null);t["default"]=d.exports}}]);