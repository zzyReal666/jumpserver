(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cf34d"],{6371:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("GenericListTable",{attrs:{"create-drawer":e.createDrawer,"detail-drawer":e.detailDrawer,"header-actions":e.headerActions,resource:e.$tc("DiscoverAccountTask"),"table-config":e.tableConfig}})},c=[],o=(a("7f7f"),a("6d67"),a("cd4a")),r=a("53f7"),i=a("ac6b"),s={name:"AccountDiscoverTaskList",components:{GenericListTable:o["f"]},data:function(){var e=this,t=this.$createElement,n=this;return{createDrawer:function(){return Promise.all([a.e("chunk-commons"),a.e("chunk-55b557da"),a.e("chunk-23d4e23b")]).then(a.bind(null,"8f54"))},detailDrawer:function(){return Promise.all([a.e("chunk-commons"),a.e("chunk-55b557da"),a.e("chunk-a10ef8ee")]).then(a.bind(null,"8767"))},showViewSecretDialog:!1,showTableUpdateDrawer:!1,currentTemplate:null,drawerTitle:"",tableConfig:{name:"AccountDiscoverTaskList",url:"/api/v1/accounts/gather-account-automations/",permissions:{app:"accounts",resource:"gatheraccountsautomation"},columns:["name","nodes","assets","is_periodic","periodic_display","executed_amount"],columnsShow:{min:["name","actions"],default:["name","nodes","assets","is_periodic","periodic_display","executed_amount"]},columnsMeta:{name:{formatter:r["i"],formatterArgs:{getRoute:function(e){var t=e.row;return{name:"AccountDiscoverTaskDetail",params:{id:t.id},query:{type:"pam"}}}}},nodes:{formatter:function(e,t,a,n){return a.map((function(e){return e["name"]})).join(", ")}},is_periodic:{formatterArgs:{showFalse:!1},width:"150px"},periodic_display:{},executed_amount:{formatter:function(a){var c=n.$hasPerm("accounts.view_gatheraccountsexecution");return t("el-link",{on:{click:function(){return e.handleExecAmount(a)}},attrs:{disabled:!c}},[a.executed_amount])}},actions:{formatterArgs:{updateRoute:"AccountDiscoverTaskUpdate",hasClone:!1,extraActions:[{title:n.$t("Execute"),name:"execute",type:"primary",order:1,can:function(t){var a=t.row;return e.$hasPerm("accounts.add_gatheraccountsexecution")&&a.is_active},callback:function(e){this.$axios.post("/api/v1/accounts/gather-account-executions/",{automation:e.row.id,type:e.row.type.value}).then((function(e){Object(i["k"])(e["task"])})).catch((function(e){}))}}]}}}},headerActions:{hasBulkDelete:!1,hasImport:!1,hasExport:!1,hasMoreActions:!1,createRoute:"AccountDiscoverTaskCreate",searchConfig:{getUrlQuery:!1}}}},methods:{handleExecAmount:function(e){this.$router.push({name:"AccountDiscoverList",query:{tab:"AccountDiscoverTaskExecutionList",automation_id:e.id}})}}},u=s,d=a("2877"),l=Object(d["a"])(u,n,c,!1,null,null,null);t["default"]=l.exports}}]);