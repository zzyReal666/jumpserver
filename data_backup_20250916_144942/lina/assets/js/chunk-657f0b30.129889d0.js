(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-657f0b30","chunk-52829884","chunk-774baf23"],{"0482":function(t,e,n){},"1c45":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{"show-cancel":!1,title:t.title,visible:t.visible,"close-on-click-modal":!1,width:"700px"},on:{"update:visible":function(e){t.visible=e},close:t.onClose,confirm:function(e){t.visible=!1}}},[n("el-alert",{attrs:{type:"warning",closable:!1}},[t._v("\n    "+t._s(t.warningText)+"\n    "),n("div",{staticClass:"secret"},[n("div",{staticClass:"row"},[n("span",{staticClass:"col"},[t._v("ID:")]),t._v(" "),n("span",{staticClass:"value"},[t._v(t._s(t.keyInfo.id))]),t._v(" "),n("i",{staticClass:"el-icon-copy-document copy-icon",on:{click:function(e){return t.handleCopy(t.keyInfo.id)}}})]),t._v(" "),n("div",{staticClass:"row"},[n("span",{staticClass:"col"},[t._v("Secret:")]),t._v(" "),n("span",{staticClass:"value"},[t._v(t._s(t.keyInfo.secret))]),t._v(" "),n("i",{staticClass:"el-icon-copy-document copy-icon",on:{click:function(e){return t.handleCopy(t.keyInfo.secret)}}})])])])],1)},a=[],r=n("0692"),o=n("dbfd"),c=n("9039"),s={name:"Secret",components:{Dialog:c["a"]},props:{title:{type:String,default:function(){return r["a"].t("CreateAccessKey")}},warningText:{type:String,default:function(){return r["a"].t("ApiKeyWarning")}}},data:function(){return{keyInfo:{id:"",secret:""},visible:!1}},methods:{show:function(t){this.keyInfo=t,this.visible=!0},onClose:function(){this.$emit("close")},handleCopy:function(t){Object(o["d"])(t)}}},l=s,u=(n("e11c"),n("2877")),f=Object(u["a"])(l,i,a,!1,null,"0ea8bf3a",null);e["a"]=f.exports},"273b":function(t,e,n){"use strict";n("0482")},2779:function(t,e,n){"use strict";n("7030")},"3cc2":function(t,e,n){},7:function(t,e){},7030:function(t,e,n){},"9ef6":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("GenericDetailPage",t._b({attrs:{"active-menu":t.config.activeMenu,object:t.object},on:{"update:activeMenu":function(e){return t.$set(t.config,"activeMenu",e)},"update:active-menu":function(e){return t.$set(t.config,"activeMenu",e)},"update:object":function(e){t.object=e}}},"GenericDetailPage",t.config,!1),[n("keep-alive",[n(t.config.activeMenu,{tag:"component",attrs:{object:t.object}})],1)],1)},a=[],r=n("cd4a"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("TwoCol",{scopedSlots:t._u([{key:"right",fn:function(){return[n("QuickActions",{attrs:{actions:t.quickActions,type:"primary"}})]},proxy:!0}])},[[n("AutoDetailCard",{attrs:{fields:t.detailFields,object:t.object,url:t.url}})]],2),t._v(" "),n("SecretDialog",{ref:"secretDialog"})],1)},c=[],s=(n("d92a"),n("2af9")),l=n("e3bc"),u=n("1c45"),f=n("52cc"),p={name:"IntegrationApplicationInfo",components:{TwoCol:f["a"],SecretDialog:u["a"],AutoDetailCard:l["a"],QuickActions:s["o"]},props:{object:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{visible:!1,warningText:this.$t("ApiKeyWarning"),key:{id:"",secret:""},quickActions:[{title:this.$t("Secret"),attrs:{type:"primary",label:this.$t("Generate"),disabled:!this.$hasPerm("accounts.change_integrationapplication")||!this.object.is_active},callbacks:{click:function(){var t=this;this.$axios.get("/api/v1/accounts/integration-applications/".concat(this.object.id,"/secret/")).then((function(e){t.$refs.secretDialog.show(e)}))}.bind(this)}}],url:"/api/v1/accounts/integration-applications/".concat(this.object.id),detailFields:["id","name","date_created","date_updated","comment","is_active"]}},computed:{}},d=p,h=n("2877"),b=Object(h["a"])(d,o,c,!1,null,null,null),m=b.exports,g=n("fc5bc"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("AccountListTable",t._b({ref:"table",attrs:{"show-actions":!1}},"AccountListTable",t.tableConfig,!1))},y=[],w=(n("7f7f"),n("f4e5")),x=n("53f7"),j={name:"AssetAccountList",components:{AccountListTable:w["a"]},props:{object:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{tableConfig:{url:"/api/v1/accounts/accounts/?integrationapplication=".concat(this.object.id),hasLeftActions:!1,hasImport:!1,hasExport:!1,showQuickFilters:!1,columnsMeta:{asset:{formatter:x["i"],formatterArgs:{drawer:!0,can:this.$hasPerm("assets.view_asset"),getTitle:function(t){var e=t.row;return e.asset.name},getRoute:function(t){var e=t.row;return{name:"AssetDetail",params:{id:e.asset.id},query:{tab:"Basic"}}}}}}}}},mounted:function(){},methods:{}},_=j,A=(n("2779"),Object(h["a"])(_,v,y,!1,null,"b7f2b99e",null)),O=A.exports,$={components:{GenericDetailPage:r["d"],ServiceCallRecords:g["default"],IntegrationApplicationInfo:m,IntegrationApplicationAccount:O},data:function(){var t=this;return{object:{},config:{titlePrefix:this.$t("ApplicationDetail"),activeMenu:"IntegrationApplicationInfo",url:"/api/v1/accounts/integration-applications",submenu:[{title:this.$t("Basic"),name:"IntegrationApplicationInfo",hidden:function(){return!t.$hasPerm("accounts.view_integrationapplication")}},{title:this.$t("Accounts"),name:"IntegrationApplicationAccount",hidden:function(){return!t.$hasPerm("accounts.view_integrationapplication")}},{name:"ServiceCallRecords",title:this.$t("CallRecords"),hidden:function(){return!t.$hasPerm("audits.view_integrationapplicationlog")}}]}}}},C=$,k=Object(h["a"])(C,i,a,!1,null,null,null);e["default"]=k.exports},afab:function(t,e,n){},b708:function(t,e,n){},bd11:function(t,e){t.exports=g,t.exports.match=c,t.exports.regexpToFunction=s,t.exports.parse=a,t.exports.compile=o,t.exports.tokensToFunction=l,t.exports.tokensToRegExp=m;var n="/",i=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function a(t,e){var a,o=[],c=0,s=0,l="",u=e&&e.delimiter||n,p=e&&e.whitelist||void 0,d=!1;while(null!==(a=i.exec(t))){var h=a[0],b=a[1],m=a.index;if(l+=t.slice(s,m),s=m+h.length,b)l+=b[1],d=!0;else{var g="",v=a[2],y=a[3],w=a[4],x=a[5];if(!d&&l.length){var j=l.length-1,_=l[j],A=!p||p.indexOf(_)>-1;A&&(g=_,l=l.slice(0,j))}l&&(o.push(l),l="",d=!1);var O="+"===x||"*"===x,$="?"===x||"*"===x,C=y||w,k=g||u,S=g||("string"===typeof o[o.length-1]?o[o.length-1]:"");o.push({name:v||c++,prefix:g,delimiter:k,optional:$,repeat:O,pattern:C?f(C):r(k,u,S)})}}return(l||s<t.length)&&o.push(l+t.substr(s)),o}function r(t,e,n){var i="[^"+u(t===e?t:t+e)+"]";return!n||n.indexOf(t)>-1||n.indexOf(e)>-1?i+"+?":u(n)+"|(?:(?!"+u(n)+")"+i+")+?"}function o(t,e){return l(a(t,e),e)}function c(t,e){var n=[],i=g(t,n,e);return s(i,n)}function s(t,e){return function(n,i){var a=t.exec(n);if(!a)return!1;for(var r=a[0],o=a.index,c={},s=i&&i.decode||decodeURIComponent,l=1;l<a.length;l++)if(void 0!==a[l]){var u=e[l-1];u.repeat?c[u.name]=a[l].split(u.delimiter).map((function(t){return s(t,u)})):c[u.name]=s(a[l],u)}return{path:r,index:o,params:c}}}function l(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",p(e)));return function(e,i){for(var a="",r=i&&i.encode||encodeURIComponent,o=!i||!1!==i.validate,c=0;c<t.length;c++){var s=t[c];if("string"!==typeof s){var l,u=e?e[s.name]:void 0;if(Array.isArray(u)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but got array');if(0===u.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var f=0;f<u.length;f++){if(l=r(u[f],s),o&&!n[c].test(l))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'"');a+=(0===f?s.prefix:s.delimiter)+l}}else if("string"!==typeof u&&"number"!==typeof u&&"boolean"!==typeof u){if(!s.optional)throw new TypeError('Expected "'+s.name+'" to be '+(s.repeat?"an array":"a string"))}else{if(l=r(String(u),s),o&&!n[c].test(l))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but got "'+l+'"');a+=s.prefix+l}}else a+=s}return a}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function f(t){return t.replace(/([=!:$/()])/g,"\\$1")}function p(t){return t&&t.sensitive?"":"i"}function d(t,e){if(!e)return t;var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return t}function h(t,e,n){for(var i=[],a=0;a<t.length;a++)i.push(g(t[a],e,n).source);return new RegExp("(?:"+i.join("|")+")",p(n))}function b(t,e,n){return m(a(t,n),e,n)}function m(t,e,i){i=i||{};for(var a=i.strict,r=!1!==i.start,o=!1!==i.end,c=i.delimiter||n,s=[].concat(i.endsWith||[]).map(u).concat("$").join("|"),l=r?"^":"",f=0;f<t.length;f++){var d=t[f];if("string"===typeof d)l+=u(d);else{var h=d.repeat?"(?:"+d.pattern+")(?:"+u(d.delimiter)+"(?:"+d.pattern+"))*":d.pattern;e&&e.push(d),d.optional?d.prefix?l+="(?:"+u(d.prefix)+"("+h+"))?":l+="("+h+")?":l+=u(d.prefix)+"("+h+")"}}if(o)a||(l+="(?:"+u(c)+")?"),l+="$"===s?"$":"(?="+s+")";else{var b=t[t.length-1],m="string"===typeof b?b[b.length-1]===c:void 0===b;a||(l+="(?:"+u(c)+"(?="+s+"))?"),m||(l+="(?="+u(c)+"|"+s+")")}return new RegExp(l,p(i))}function g(t,e,n){return t instanceof RegExp?d(t,e):Array.isArray(t)?h(t,e,n):b(t,e,n)}},c0eb:function(t,e,n){"use strict";var i=n("c5ec"),a=n.n(i);window.$=a.a,window.jQuery=a.a,e["a"]=a.a},e11c:function(t,e,n){"use strict";n("afab")},e323:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t.hasButton?n("el-button",{staticClass:"proto-setting",attrs:{disabled:!t.canSetting,icon:t.icon,size:"small",type:"primary"},on:{click:t.onSetting}}):t._e(),t._v(" "),n("Dialog",{attrs:{"show-cancel":!1,"show-confirm":!1,title:t.title,visible:t.isVisible,width:"60%"},on:{"update:visible":function(e){t.isVisible=e},close:t.onDialogClose}},[n("AutoDataForm",t._g(t._b({ref:"autoDataForm",staticClass:"data-form",attrs:{form:t.form},on:{submit:t.onSubmit}},"AutoDataForm",t.config,!1),t.$listeners))],1)],1)},a=[],r=(n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("bd86")),o=n("768b"),c=(n("ffc1"),n("6762"),n("2fdb"),n("ac6a"),n("456d"),n("96cf"),n("3b8d")),s=n("9039"),l=n("c75f"),u=n("f823");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={components:{Dialog:s["a"],AutoDataForm:l["a"]},props:{value:{type:[String,Object],default:function(){return{}}},title:{type:String,default:function(){return this.$t("PushParams")}},btnText:{type:String,default:function(){return""}},icon:{type:String,default:"el-icon-setting"},url:{type:String,default:"/api/v1/assets/platform-automation-methods/"},method:{type:String,default:""},pushAccountParams:{type:Object,default:function(){return{}}},visible:{type:Boolean,default:!1},hasButton:{type:Boolean,default:!0}},data:function(){return{isVisible:this.visible,canSetting:!0,form:this.value,remoteMeta:{},config:{url:this.url,hasSaveContinue:!1,hasButtons:!0,hasReset:!1,fields:[],method:"get"},preFieldsMeta:{change_secret_by_ssh:{commands:{helpTextAsTip:!1}}}}},watch:{visible:function(t){this.isVisible=t},method:function(t,e){t!==e&&this.getUrlMeta()}},mounted:function(){this.getUrlMeta()},methods:{getUrlMeta:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("common/getUrlMeta",{url:this.url});case 2:e=t.sent,this.remoteMeta=e.actions[this.config.method.toUpperCase()]||{},this.onCanSetting()&&this.setFormConfig();case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onCanSetting:function(){var t=Object.keys(this.remoteMeta);return this.canSetting=t.includes(this.method)&&this.$hasPerm("assets.change_platform"),this.$emit("canSetting",this.canSetting),this.canSetting},setFormConfig:function(){var t=[],e={},n=this.method,i=this.remoteMeta[n];t=[[i.label,[n]]],e[n]={fields:[],fieldsMeta:{}};var a=this.pushAccountParams[n];if(Object.keys((null===i||void 0===i?void 0:i.children)||{}).length>0)for(var r=0,c=Object.entries(i.children);r<c.length;r++){var s=Object(o["a"])(c[r],2),l=s[0],f=s[1],d="el-input",h={};switch(null===f||void 0===f?void 0:f.type){case"list":d=u["b"];break;case"boolean":d=u["j"];break;case"text":h["text"]="textarea";break}a&&(f.default=a[l]||f.default);var b=p(p({},f),{},{component:d,el:h});e[n].fields.push(l),e[n].fieldsMeta[l]=b}var m=this.preFieldsMeta[n];if(m)for(var g=0,v=Object.entries(m);g<v.length;g++)for(var y=Object(o["a"])(v[g],2),w=y[0],x=y[1],j=0,_=Object.entries(x);j<_.length;j++){var A=Object(o["a"])(_[j],2),O=A[0],$=A[1];e[n]["fieldsMeta"][w][O]=$}this.config.fields=t,this.config.fieldsMeta=e},onSetting:function(){this.isVisible=!0},onSubmit:function(t){this.$emit("input",t),this.isVisible=!1,this.$emit("update:visible",this.isVisible)},onDialogClose:function(){this.$emit("update:visible",this.isVisible)}}},h=d,b=(n("273b"),n("2877")),m=Object(b["a"])(h,i,a,!1,null,"2772642f",null);e["a"]=m.exports},fc5bc:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("GenericListTable",{ref:"listTable",attrs:{"header-actions":t.headerActions,"table-config":t.tableConfig}})},a=[],r=n("3758"),o={name:"CallRecords",components:{GenericListTable:r["a"]},props:{object:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{tableConfig:{url:this.getUrl(),columns:["service","service_id","asset","account","remote_addr","datetime"],columnsShow:{min:["service","account","datetime"],default:["service","asset","account","remote_addr","datetime"]},extraQuery:{order:"-datetime"},columnsMeta:{service:{label:this.$t("RelevantApp")},remote_addr:{width:"180px"},actions:{has:!1}}},headerActions:{hasSearch:!0,hasRefresh:!0,hasRightActions:!0,hasLeftActions:!1,hasMoreActions:!1,hasExport:!1,hasImport:!1}}},methods:{getUrl:function(){var t="/api/v1/audits/service-access-logs/";return this.object.id?"".concat(t,"?service_id=").concat(this.object.id):t}}},c=o,s=n("2877"),l=Object(s["a"])(c,i,a,!1,null,null,null);e["default"]=l.exports}}]);