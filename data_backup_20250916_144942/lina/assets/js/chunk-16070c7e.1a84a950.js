(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16070c7e","chunk-52829884"],{"0482":function(e,t,n){},"20c7":function(e,t,n){"use strict";n("3aee")},"273b":function(e,t,n){"use strict";n("0482")},"3aee":function(e,t,n){},"3cc2":function(e,t,n){},"4da0":function(e,t,n){"use strict";n("e5a9")},7:function(e,t){},b708:function(e,t,n){},bd11:function(e,t){e.exports=m,e.exports.match=o,e.exports.regexpToFunction=c,e.exports.parse=r,e.exports.compile=s,e.exports.tokensToFunction=l,e.exports.tokensToRegExp=d;var n="/",i=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function r(e,t){var r,s=[],o=0,c=0,l="",u=t&&t.delimiter||n,f=t&&t.whitelist||void 0,p=!1;while(null!==(r=i.exec(e))){var h=r[0],E=r[1],d=r.index;if(l+=e.slice(c,d),c=d+h.length,E)l+=E[1],p=!0;else{var m="",I=r[2],S=r[3],T=r[4],b=r[5];if(!p&&l.length){var g=l.length-1,R=l[g],C=!f||f.indexOf(R)>-1;C&&(m=R,l=l.slice(0,g))}l&&(s.push(l),l="",p=!1);var A="+"===b||"*"===b,O="?"===b||"*"===b,v=S||T,L=m||u,U=m||("string"===typeof s[s.length-1]?s[s.length-1]:"");s.push({name:I||o++,prefix:m,delimiter:L,optional:O,repeat:A,pattern:v?_(v):a(L,u,U)})}}return(l||c<e.length)&&s.push(l+e.substr(c)),s}function a(e,t,n){var i="[^"+u(e===t?e:e+t)+"]";return!n||n.indexOf(e)>-1||n.indexOf(t)>-1?i+"+?":u(n)+"|(?:(?!"+u(n)+")"+i+")+?"}function s(e,t){return l(r(e,t),t)}function o(e,t){var n=[],i=m(e,n,t);return c(i,n)}function c(e,t){return function(n,i){var r=e.exec(n);if(!r)return!1;for(var a=r[0],s=r.index,o={},c=i&&i.decode||decodeURIComponent,l=1;l<r.length;l++)if(void 0!==r[l]){var u=t[l-1];u.repeat?o[u.name]=r[l].split(u.delimiter).map((function(e){return c(e,u)})):o[u.name]=c(r[l],u)}return{path:a,index:s,params:o}}}function l(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var r="",a=i&&i.encode||encodeURIComponent,s=!i||!1!==i.validate,o=0;o<e.length;o++){var c=e[o];if("string"!==typeof c){var l,u=t?t[c.name]:void 0;if(Array.isArray(u)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but got array');if(0===u.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var _=0;_<u.length;_++){if(l=a(u[_],c),s&&!n[o].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'"');r+=(0===_?c.prefix:c.delimiter)+l}}else if("string"!==typeof u&&"number"!==typeof u&&"boolean"!==typeof u){if(!c.optional)throw new TypeError('Expected "'+c.name+'" to be '+(c.repeat?"an array":"a string"))}else{if(l=a(String(u),c),s&&!n[o].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but got "'+l+'"');r+=c.prefix+l}}else r+=c}return r}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function _(e){return e.replace(/([=!:$/()])/g,"\\$1")}function f(e){return e&&e.sensitive?"":"i"}function p(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}function h(e,t,n){for(var i=[],r=0;r<e.length;r++)i.push(m(e[r],t,n).source);return new RegExp("(?:"+i.join("|")+")",f(n))}function E(e,t,n){return d(r(e,n),t,n)}function d(e,t,i){i=i||{};for(var r=i.strict,a=!1!==i.start,s=!1!==i.end,o=i.delimiter||n,c=[].concat(i.endsWith||[]).map(u).concat("$").join("|"),l=a?"^":"",_=0;_<e.length;_++){var p=e[_];if("string"===typeof p)l+=u(p);else{var h=p.repeat?"(?:"+p.pattern+")(?:"+u(p.delimiter)+"(?:"+p.pattern+"))*":p.pattern;t&&t.push(p),p.optional?p.prefix?l+="(?:"+u(p.prefix)+"("+h+"))?":l+="("+h+")?":l+=u(p.prefix)+"("+h+")"}}if(s)r||(l+="(?:"+u(o)+")?"),l+="$"===c?"$":"(?="+c+")";else{var E=e[e.length-1],d="string"===typeof E?E[E.length-1]===o:void 0===E;r||(l+="(?:"+u(o)+"(?="+c+"))?"),d||(l+="(?="+u(o)+"|"+c+")")}return new RegExp(l,f(i))}function m(e,t,n){return e instanceof RegExp?p(e,t):Array.isArray(e)?h(e,t,n):E(e,t,n)}},c0eb:function(e,t,n){"use strict";var i=n("c5ec"),r=n.n(i);window.$=r.a,window.jQuery=r.a,t["a"]=r.a},e323:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[e.hasButton?n("el-button",{staticClass:"proto-setting",attrs:{disabled:!e.canSetting,icon:e.icon,size:"small",type:"primary"},on:{click:e.onSetting}}):e._e(),e._v(" "),n("Dialog",{attrs:{"show-cancel":!1,"show-confirm":!1,title:e.title,visible:e.isVisible,width:"60%"},on:{"update:visible":function(t){e.isVisible=t},close:e.onDialogClose}},[n("AutoDataForm",e._g(e._b({ref:"autoDataForm",staticClass:"data-form",attrs:{form:e.form},on:{submit:e.onSubmit}},"AutoDataForm",e.config,!1),e.$listeners))],1)],1)},r=[],a=(n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("bd86")),s=n("768b"),o=(n("ffc1"),n("6762"),n("2fdb"),n("ac6a"),n("456d"),n("96cf"),n("3b8d")),c=n("9039"),l=n("c75f"),u=n("f823");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={components:{Dialog:c["a"],AutoDataForm:l["a"]},props:{value:{type:[String,Object],default:function(){return{}}},title:{type:String,default:function(){return this.$t("PushParams")}},btnText:{type:String,default:function(){return""}},icon:{type:String,default:"el-icon-setting"},url:{type:String,default:"/api/v1/assets/platform-automation-methods/"},method:{type:String,default:""},pushAccountParams:{type:Object,default:function(){return{}}},visible:{type:Boolean,default:!1},hasButton:{type:Boolean,default:!0}},data:function(){return{isVisible:this.visible,canSetting:!0,form:this.value,remoteMeta:{},config:{url:this.url,hasSaveContinue:!1,hasButtons:!0,hasReset:!1,fields:[],method:"get"},preFieldsMeta:{change_secret_by_ssh:{commands:{helpTextAsTip:!1}}}}},watch:{visible:function(e){this.isVisible=e},method:function(e,t){e!==t&&this.getUrlMeta()}},mounted:function(){this.getUrlMeta()},methods:{getUrlMeta:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("common/getUrlMeta",{url:this.url});case 2:t=e.sent,this.remoteMeta=t.actions[this.config.method.toUpperCase()]||{},this.onCanSetting()&&this.setFormConfig();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onCanSetting:function(){var e=Object.keys(this.remoteMeta);return this.canSetting=e.includes(this.method)&&this.$hasPerm("assets.change_platform"),this.$emit("canSetting",this.canSetting),this.canSetting},setFormConfig:function(){var e=[],t={},n=this.method,i=this.remoteMeta[n];e=[[i.label,[n]]],t[n]={fields:[],fieldsMeta:{}};var r=this.pushAccountParams[n];if(Object.keys((null===i||void 0===i?void 0:i.children)||{}).length>0)for(var a=0,o=Object.entries(i.children);a<o.length;a++){var c=Object(s["a"])(o[a],2),l=c[0],_=c[1],p="el-input",h={};switch(null===_||void 0===_?void 0:_.type){case"list":p=u["b"];break;case"boolean":p=u["j"];break;case"text":h["text"]="textarea";break}r&&(_.default=r[l]||_.default);var E=f(f({},_),{},{component:p,el:h});t[n].fields.push(l),t[n].fieldsMeta[l]=E}var d=this.preFieldsMeta[n];if(d)for(var m=0,I=Object.entries(d);m<I.length;m++)for(var S=Object(s["a"])(I[m],2),T=S[0],b=S[1],g=0,R=Object.entries(b);g<R.length;g++){var C=Object(s["a"])(R[g],2),A=C[0],O=C[1];t[n]["fieldsMeta"][T][A]=O}this.config.fields=e,this.config.fieldsMeta=t},onSetting:function(){this.isVisible=!0},onSubmit:function(e){this.$emit("input",e),this.isVisible=!1,this.$emit("update:visible",this.isVisible)},onDialogClose:function(){this.$emit("update:visible",this.isVisible)}}},h=p,E=(n("273b"),n("2877")),d=Object(E["a"])(h,i,r,!1,null,"2772642f",null);t["a"]=d.exports},e5a9:function(e,t,n){},fb5b:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TabPage",{attrs:{"active-menu":e.activeMenu,submenu:e.submenu},on:{"update:activeMenu":function(t){e.activeMenu=t},"update:active-menu":function(t){e.activeMenu=t}}},[n("keep-alive",[n(e.activeMenu,{tag:"component"})],1)],1)},r=[],a=n("9b8c"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("IBox",[n("GenericCreateUpdateForm",e._b({attrs:{"submit-method":"patch"}},"GenericCreateUpdateForm",e.config,!1))],1)},o=[],c=n("768b"),l=n("e9f9"),u=n("5cba"),_=n("d0aa"),f={name:"Auth",components:{GenericCreateUpdateForm:_["a"],IBox:l["a"]},data:function(){var e=this;return{config:{url:"/api/v1/settings/setting/?category=security_auth",fields:[[this.$t("Basic"),["SECURITY_LOGIN_CAPTCHA_ENABLED","SECURITY_LOGIN_CHALLENGE_ENABLED","SECURITY_UNCOMMON_USERS_TTL","SECURITY_CHECK_DIFFERENT_CITY_LOGIN"]],["MFA",["SECURITY_MFA_AUTH","SECURITY_MFA_IN_LOGIN_PAGE","SECURITY_MFA_BY_EMAIL","SECURITY_MFA_AUTH_ENABLED_FOR_THIRD_PARTY","SECURITY_MFA_VERIFY_TTL","OTP_ISSUER_NAME","OTP_VALID_WINDOW"]]],fieldsMeta:{SECURITY_LOGIN_CHALLENGE_ENABLED:{on:{change:function(e,t){var n=Object(c["a"])(e,1),i=n[0];i&&(t({SECURITY_MFA_IN_LOGIN_PAGE:!1}),t({SECURITY_LOGIN_CAPTCHA_ENABLED:!1}))}}},SECURITY_MFA_IN_LOGIN_PAGE:{hidden:function(t){return 1!==t["SECURITY_MFA_AUTH"]||!e.$store.getters.hasValidLicense},on:{change:function(e,t){var n=Object(c["a"])(e,1),i=n[0];i&&(t({SECURITY_LOGIN_CHALLENGE_ENABLED:!1}),t({SECURITY_LOGIN_CAPTCHA_ENABLED:!1}))}}},SECURITY_LOGIN_CAPTCHA_ENABLED:{on:{change:function(e,t){var n=Object(c["a"])(e,1),i=n[0];i&&(t({SECURITY_LOGIN_CHALLENGE_ENABLED:!1}),t({SECURITY_MFA_IN_LOGIN_PAGE:!1}))}}},VERIFY_CODE_TTL:{label:this.$t("ExpirationTimeout")},SECURITY_MFA_AUTH_ENABLED_FOR_THIRD_PARTY:{helpText:this.$t("ThirdPartyMfaHelpText")},SECURITY_UNCOMMON_USERS_TTL:{rules:[u["f"].LengthCheck,u["f"].Required]}}}}}},p=f,h=n("2877"),E=Object(h["a"])(p,s,o,!1,null,null,null),d=E.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("IBox",[n("GenericCreateUpdateForm",{attrs:{fields:e.fields,"fields-meta":e.fieldsMeta,"has-detail-in-msg":!1,"submit-method":e.submitMethod,url:e.url}})],1)},I=[],S=n("2af9"),T={name:"EmailContent",components:{IBox:l["a"],GenericCreateUpdateForm:_["a"]},data:function(){return{visible:!1,fields:[[this.$t("Basic"),["SECURITY_PASSWORD_EXPIRATION_TIME","OLD_PASSWORD_HISTORY_LIMIT_COUNT","SECURITY_EXPIRED_TOKEN_RECORD_KEEP_DAYS"]],[this.$t("PasswordRule"),["SECURITY_LEAK_PASSWORD_LIST","SECURITY_PASSWORD_MIN_LENGTH","SECURITY_ADMIN_USER_PASSWORD_MIN_LENGTH","SECURITY_PASSWORD_UPPER_CASE","SECURITY_PASSWORD_LOWER_CASE","SECURITY_PASSWORD_NUMBER","SECURITY_PASSWORD_SPECIAL_CHAR"]]],fieldsMeta:{SECURITY_LEAK_PASSWORD_LIST:{component:S["l"],label:this.$t("LeakPasswordList")}},url:"/api/v1/settings/setting/?category=security_password"}},methods:{submitMethod:function(){return"patch"},onConfirm:function(){}}},b=T,g=Object(h["a"])(b,m,I,!1,null,"e92ac290",null),R=g.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("IBox",[n("GenericCreateUpdateForm",e._b({attrs:{fields:e.fields,"fields-meta":e.fieldsMeta,"has-detail-in-msg":!1,"submit-method":e.submitMethod,url:e.url}},"GenericCreateUpdateForm",e.$data,!1))],1)},A=[],O=(n("d25f"),n("2caf"),{name:"EmailContent",components:{IBox:l["a"],GenericCreateUpdateForm:_["a"]},data:function(){return{initial:{SECURITY_LOGIN_IP_BLACK_LIST:[]},visible:!1,fields:[[this.$t("User"),["SECURITY_LOGIN_LIMIT_COUNT","SECURITY_LOGIN_LIMIT_TIME"]],[this.$t("IP"),["SECURITY_LOGIN_IP_LIMIT_COUNT","SECURITY_LOGIN_IP_LIMIT_TIME","SECURITY_LOGIN_IP_WHITE_LIST","SECURITY_LOGIN_IP_BLACK_LIST","SECURITY_VIEW_BLOCKED_IPS"]],[this.$t("Other"),["USER_LOGIN_SINGLE_MACHINE_ENABLED","ONLY_ALLOW_EXIST_USER_AUTH","ONLY_ALLOW_AUTH_FROM_SOURCE"]]],successUrl:{name:"Settings",params:{activeMenu:"EmailContent"}},fieldsMeta:{SECURITY_VIEW_BLOCKED_IPS:{component:S["g"],label:this.$t("BlockedIPS"),el:{method:"push_account_method",assets:this.asset_ids,nodes:this.node_ids}}},cleanFormValue:function(e){var t=e.SECURITY_LOGIN_IP_BLACK_LIST,n=e.SECURITY_LOGIN_IP_WHITE_LIST;return Array.isArray(t)&&(e.SECURITY_LOGIN_IP_BLACK_LIST=t.filter(Boolean)),Array.isArray(n)&&(e.SECURITY_LOGIN_IP_WHITE_LIST=n.filter(Boolean)),e},url:"/api/v1/settings/setting/?category=security_login_limit"}},methods:{submitMethod:function(){return"patch"},onConfirm:function(){}}}),v=O,L=Object(h["a"])(v,C,A,!1,null,"f8000b7a",null),U=L.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("IBox",[n("GenericCreateUpdateForm",e._b({attrs:{"submit-method":"patch"}},"GenericCreateUpdateForm",e.config,!1)),e._v(" "),n("WatermarkHelpDialog",{attrs:{variables:e.sessionVariables,visible:e.showSessionHelpDialog},on:{"update:visible":function(t){e.showSessionHelpDialog=t}}}),e._v(" "),n("WatermarkHelpDialog",{attrs:{variables:e.consoleVariables,visible:e.showConsoleHelpDialog},on:{"update:visible":function(t){e.showConsoleHelpDialog=t}}})],1)},M=[],y=(n("96cf"),n("3b8d")),Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{staticClass:"help-dialog",attrs:{"show-cancel":!1,"show-confirm":!1,title:e.title,visible:e.iVisible,top:"1vh",width:"50%"},on:{"update:visible":function(t){e.iVisible=t}}},[n("p",[e._v(e._s(e.$t("WatermarkVariableHelpText")))]),e._v(" "),n("table",{staticClass:"help-table",attrs:{border:"1"}},[n("tr",[n("th",[e._v(e._s(e.$tc("Variable")))]),e._v(" "),n("th",[e._v(e._s(e.$tc("Description")))])]),e._v(" "),e._l(e.variables,(function(t,i,r){return n("tr",{key:r},[n("td",{staticClass:"item-td text-link",attrs:{title:e.$tc("ClickCopy")},on:{click:function(t){return e.onCopy(i)}}},[n("label",{staticClass:"item-label"},[e._v(e._s(i))])]),e._v(" "),n("td",[n("span",[e._v(e._s(t))])])])}))],2)])},x=[],D=n("dbfd"),$={components:{Dialog:S["i"]},props:{visible:{type:Boolean,default:!1},variables:{type:Object,default:function(){return{}}}},data:function(){return{title:this.$t("BuiltinVariable")}},computed:{iVisible:{set:function(e){this.$emit("update:visible",e)},get:function(){return this.visible}}},methods:{onCopy:function(e){Object(D["d"])(e)}}},w=$,P=(n("20c7"),n("4da0"),Object(h["a"])(w,Y,x,!1,null,"280efc1e",null)),G=P.exports,B={name:"SessionSecurity",components:{GenericCreateUpdateForm:_["a"],IBox:l["a"],WatermarkHelpDialog:G},data:function(){var e=this,t=this.$createElement;return{showSessionHelpDialog:!1,showConsoleHelpDialog:!1,sessionVariables:{userId:this.$t("userId"),name:this.$t("name"),userName:this.$t("userName"),currentTime:this.$t("currentTime"),assetId:this.$t("assetId"),assetName:this.$t("assetName"),assetAddress:this.$t("assetAddress")},consoleVariables:{userId:this.$t("userId"),name:this.$t("name"),userName:this.$t("userName"),currentTime:this.$t("currentTime")},config:{url:"/api/v1/settings/setting/?category=security_session",hasDetailInMsg:!1,fields:[[this.$t("Basic"),["SECURITY_SESSION_SHARE","SESSION_EXPIRE_AT_BROWSER_CLOSE","VIEW_ASSET_ONLINE_SESSION_INFO","SECURITY_MAX_IDLE_TIME","SECURITY_MAX_SESSION_TIME"]],[this.$t("Watermark"),this.$store.getters.hasValidLicense?["SECURITY_WATERMARK_ENABLED","SECURITY_WATERMARK_SESSION_CONTENT","SECURITY_WATERMARK_CONSOLE_CONTENT","SECURITY_WATERMARK_COLOR","SECURITY_WATERMARK_FONT_SIZE","SECURITY_WATERMARK_HEIGHT","SECURITY_WATERMARK_WIDTH","SECURITY_WATERMARK_ROTATE"]:["SECURITY_WATERMARK_ENABLED"]]],fieldsMeta:{SECURITY_WATERMARK_SESSION_CONTENT:{helpTextFormatter:function(){var n=function(){e.showSessionHelpDialog=!0};return t("i",{on:{click:n},class:"fa fa-question-circle",style:"cursor: pointer"},[e.$t("Help")])}},SECURITY_WATERMARK_CONSOLE_CONTENT:{helpTextFormatter:function(){var n=function(){e.showConsoleHelpDialog=!0};return t("i",{on:{click:n},class:"fa fa-question-circle",style:"cursor: pointer"},[e.$t("Help")])}},SECURITY_WATERMARK_COLOR:{component:"el-color-picker",el:{size:"small","show-alpha":!0,predefine:["rgba(128, 128, 128, 0.25)","rgba(0, 0, 0, 0.15)","rgba(255, 255, 255, 0.2)","rgba(176, 176, 176, 0.3)","rgba(91, 155, 213, 0.25)","rgba(192, 80, 77, 0.2)","rgba(112, 173, 71, 0.2)","rgba(255, 192, 0, 0.18)"]}}},onSubmit:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(n){var i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="/api/v1/settings/setting/?category=security_session",t.prev=1,t.next=4,e.$axios.patch(i,n);case 4:r=t.sent,r&&(e.$message.success(e.$t("UpdateSuccessMsg")),e.$store.commit("settings/SET_SECURITY_WATERMARK_ENABLED",r["SECURITY_WATERMARK_ENABLED"])),t.next=11;break;case 8:throw t.prev=8,t.t0=t["catch"](1),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function n(e){return t.apply(this,arguments)}return n}()}}}},F=B,H=Object(h["a"])(F,N,M,!1,null,null,null),W=H.exports,j={name:"Index",components:{TabPage:a["a"],Auth:d,Password:R,AuthLimit:U,Session:W},data:function(){return{activeMenu:"Auth",submenu:[{title:this.$t("AuthSecurity"),name:"Auth"},{title:this.$t("AuthLimit"),name:"AuthLimit"},{title:this.$t("PasswordSecurity"),name:"Password"},{title:this.$t("SessionSecurity"),name:"Session"}]}}},k=j,V=Object(h["a"])(k,i,r,!1,null,null,null);t["default"]=V.exports}}]);